
                
/*
    Generated BY    : Steps Code Generator
    Generated On    : Mon Jan 26 2026 17:13:32 GMT+0530 (India Standard Time)
    Description     : JSuites v4.16.1 JS Library for BCSFuel
    Version         : 2024.09

    WARNING         : DO NOT EDIT THIS FILE. This file is generated, any changes may be overwritten.
*/

                
                /**
 * (c) jSuites Javascript Web Components
 *
 * Website: https://jsuites.net
 * Description: Create amazing web based applications.
 *
 * MIT License
 *
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.jSuites=factory()}(this,(function(){"use strict";var jSuites={},Version="4.16.1",Events=function(){document.jsuitesComponents=[];var find=function(DOMElement,component){return!(!DOMElement[component.type]||DOMElement[component.type]!=component)||(!(!DOMElement.component||DOMElement.component!=component)||!!DOMElement.parentNode&&find(DOMElement.parentNode,component))},isOpened=function(e){if(document.jsuitesComponents&&document.jsuitesComponents.length>0)for(var i=0;i<document.jsuitesComponents.length;i++)document.jsuitesComponents[i]&&!find(e,document.jsuitesComponents[i])&&document.jsuitesComponents[i].close()},cornerSize=15,element=null,editorAction=!1,state={x:null,y:null},tooltip=document.createElement("div");tooltip.classList.add("jtooltip");var mouseDown=function(e){var item=jSuites.findElement(e.target,"jpanel");if(item&&!item.classList.contains("readonly")){item.focus();var rect=e.target.getBoundingClientRect();editorAction={e:item,x:e.clientX,y:e.clientY,w:rect.width,h:rect.height,d:item.style.cursor,resizing:!!item.style.cursor,actioned:!1},item.style.width||(item.style.width=rect.width+"px"),item.style.height||(item.style.height=rect.height+"px");var s=window.getSelection();if(s.rangeCount)for(var i=0;i<s.rangeCount;i++)s.removeRange(s.getRangeAt(i));e.preventDefault(),e.stopPropagation()}else editorAction=!1;if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;var path=e.path||e.composedPath&&e.composedPath();if(path)element=path[0];else{if(e.target&&e.target.shadowRoot)var d=e.target.shadowRoot;else var d=document;element=d.elementFromPoint(x,y)}isOpened(element)},mouseUp=function(e){editorAction&&editorAction.e&&("function"==typeof editorAction.e.refresh&&state.actioned&&editorAction.e.refresh(),editorAction.e.style.cursor=""),state={x:null,y:null},editorAction=!1},mouseMove=function(e){if(editorAction){var x=e.clientX||e.pageX,y=e.clientY||e.pageY;if(editorAction.resizing){var width=null,height=null;if("e-resize"==editorAction.d||"ne-resize"==editorAction.d||"se-resize"==editorAction.d)if(width=editorAction.w+(x-editorAction.x),editorAction.e.style.width=width+"px",e.shiftKey){var newHeight=(x-editorAction.x)*(editorAction.h/editorAction.w);height=editorAction.h+newHeight,editorAction.e.style.height=height+"px"}else var newHeight=!1;newHeight||"s-resize"!=editorAction.d&&"se-resize"!=editorAction.d&&"sw-resize"!=editorAction.d||(height=editorAction.h+(y-editorAction.y),editorAction.e.style.height=height+"px"),"function"==typeof editorAction.e.refresh&&(state.actioned=!0,editorAction.e.refresh("dimensions",width,height))}else{null==state.x&&null==state.y&&(state.x=x,state.y=y);var dx=x-state.x,dy=y-state.y,top=editorAction.e.offsetTop+dy,left=editorAction.e.offsetLeft+dx;editorAction.e.style.top=top+"px",editorAction.e.style.left=left+"px",editorAction.e.style.cursor="move",state.x=x,state.y=y,"function"==typeof editorAction.e.refresh&&(state.actioned=!0,editorAction.e.refresh("position",top,left))}}else{var item=jSuites.findElement(e.target,"jpanel");if(item&&item.getAttribute("tabindex")){var rect=item.getBoundingClientRect();e.clientY-rect.top<15?rect.width-(e.clientX-rect.left)<15?item.style.cursor="ne-resize":e.clientX-rect.left<15?item.style.cursor="nw-resize":item.style.cursor="n-resize":rect.height-(e.clientY-rect.top)<15?rect.width-(e.clientX-rect.left)<15?item.style.cursor="se-resize":e.clientX-rect.left<15?item.style.cursor="sw-resize":item.style.cursor="s-resize":rect.width-(e.clientX-rect.left)<15?item.style.cursor="e-resize":e.clientX-rect.left<15?item.style.cursor="w-resize":item.style.cursor=""}}},mouseOver=function(e){var message=e.target.getAttribute("data-tooltip");if(message){if(tooltip.innerText=message,e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;tooltip.style.top=y+"px",tooltip.style.left=x+"px",document.body.appendChild(tooltip)}else tooltip.innerText&&(tooltip.innerText="",document.body.removeChild(tooltip))},dblClick=function(e){var item=jSuites.findElement(e.target,"jpanel");item&&"function"==typeof item.dblclick&&item.dblclick(e)},contextMenu=function(e){var item=document.activeElement;if(item&&"function"==typeof item.contextmenu)item.contextmenu(e),e.preventDefault(),e.stopImmediatePropagation();else if(item=jSuites.findElement(e.target,(function(o){return o.tagName&&o.getAttribute("aria-contextmenu-id")}))){var o=document.querySelector("#"+item);o?(o.contextmenu.open(e),e.preventDefault(),e.stopImmediatePropagation()):console.error("JSUITES: contextmenu id not found: "+item)}},keyDown=function(e){var item=document.activeElement;item&&"Delete"==e.key&&"function"==typeof item.delete&&(item.delete(),e.preventDefault(),e.stopImmediatePropagation()),document.jsuitesComponents&&document.jsuitesComponents.length&&(item=document.jsuitesComponents[document.jsuitesComponents.length-1])&&"Escape"==e.key&&"function"==typeof item.isOpened&&"function"==typeof item.close&&item.isOpened()&&(item.close(),e.preventDefault(),e.stopImmediatePropagation())};document.addEventListener("mouseup",mouseUp),document.addEventListener("mousedown",mouseDown),document.addEventListener("mousemove",mouseMove),document.addEventListener("mouseover",mouseOver),document.addEventListener("dblclick",dblClick),document.addEventListener("keydown",keyDown),document.addEventListener("contextmenu",contextMenu)};"undefined"==typeof document||document.jsuitesComponents||Events(),jSuites.version=Version,jSuites.setExtensions=function(o){if("object"==typeof o)for(var k=Object.keys(o),i=0;i<k.length;i++)jSuites[k[i]]=o[k[i]]},jSuites.tracking=function(component,state){if(1==state)document.jsuitesComponents=document.jsuitesComponents.filter((function(v){return null!==v})),setTimeout((function(){document.jsuitesComponents.push(component)}),0);else{var index=document.jsuitesComponents.indexOf(component);index>=0&&document.jsuitesComponents.splice(index,1)}},jSuites.path=function(str,val){if((str=str.split(".")).length){for(var o=this,p=null;str.length>1;)if(p=str.shift(),o.hasOwnProperty(p))o=o[p];else{if(void 0===val)return;o[p]={},o=o[p]}if(p=str.shift(),void 0!==val)return o[p]=val,!0;if(o)return o[p]}return!1},jSuites.setDictionary=function(d){document.dictionary||(document.dictionary={});for(var k=Object.keys(d),i=0;i<k.length;i++)document.dictionary[k[i]]=d[k[i]];for(var t=null,i=0;i<jSuites.calendar.weekdays.length;i++)t=jSuites.translate(jSuites.calendar.weekdays[i]),jSuites.calendar.weekdays[i]&&(jSuites.calendar.weekdays[i]=t,jSuites.calendar.weekdaysShort[i]=t.substr(0,3));for(var i=0;i<jSuites.calendar.months.length;i++)(t=jSuites.translate(jSuites.calendar.months[i]))&&(jSuites.calendar.months[i]=t,jSuites.calendar.monthsShort[i]=t.substr(0,3))},jSuites.translate=function(t){return"undefined"!=typeof document&&document.dictionary&&document.dictionary[t]||t},jSuites.ajax=function(options,complete){if(Array.isArray(options)){var multiple={instance:[],complete:complete};if(options.length>0)for(var i=0;i<options.length;i++)options[i].multiple=multiple,multiple.instance.push(jSuites.ajax(options[i]));return multiple}if(options.data||(options.data={}),options.type&&(options.method=options.type),options.method||(options.method="GET"),options.dataType||(options.dataType="json"),options.data){var parseData=function(value,key){var vars=[];if(value){var keys=Object.keys(value);if(keys.length)for(var i=0;i<keys.length;i++){if(key)var k=key+"["+keys[i]+"]";else var k=keys[i];if(value[k]instanceof FileList)vars[k]=value[keys[i]];else if(null===value[keys[i]]||void 0===value[keys[i]])vars[k]="";else if("object"==typeof value[keys[i]])for(var r=parseData(value[keys[i]],k),o=Object.keys(r),j=0;j<o.length;j++)vars[o[j]]=r[o[j]];else vars[k]=value[keys[i]]}}return vars},d=parseData(options.data),k=Object.keys(d);if("GET"==options.method){if(k.length){for(var data=[],i=0;i<k.length;i++)data.push(k[i]+"="+encodeURIComponent(d[k[i]]));options.url.indexOf("?")<0&&(options.url+="?"),options.url+=data.join("&")}}else for(var data=new FormData,i=0;i<k.length;i++)if(d[k[i]]instanceof FileList){if(d[k[i]].length)for(var j=0;j<d[k[i]].length;j++)data.append(k[i],d[k[i]][j],d[k[i]][j].name)}else data.append(k[i],d[k[i]])}var httpRequest=new XMLHttpRequest;return httpRequest.open(options.method,options.url,!0),httpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),options.contentType&&httpRequest.setRequestHeader("Content-Type",options.contentType),"POST"==options.method?httpRequest.setRequestHeader("Accept","application/json"):"blob"==options.dataType?httpRequest.responseType="blob":options.contentType||("json"==options.dataType?httpRequest.setRequestHeader("Content-Type","text/json"):"html"==options.dataType&&httpRequest.setRequestHeader("Content-Type","text/html")),1!=options.cache&&(httpRequest.setRequestHeader("pragma","no-cache"),httpRequest.setRequestHeader("cache-control","no-cache")),1==options.withCredentials&&(httpRequest.withCredentials=!0),"function"==typeof options.beforeSend&&options.beforeSend(httpRequest),"function"==typeof jSuites.ajax.beforeSend&&jSuites.ajax.beforeSend(httpRequest),document.ajax&&"function"==typeof document.ajax.beforeSend&&document.ajax.beforeSend(httpRequest),httpRequest.onload=function(){if(200===httpRequest.status)if("json"==options.dataType)try{var result=JSON.parse(httpRequest.responseText);options.success&&"function"==typeof options.success&&options.success(result)}catch(err){options.error&&"function"==typeof options.error&&options.error(err,result)}else{if("blob"==options.dataType)var result=httpRequest.response;else var result=httpRequest.responseText;options.success&&"function"==typeof options.success&&options.success(result)}else options.error&&"function"==typeof options.error&&options.error(httpRequest.responseText,httpRequest.status);if(jSuites.ajax.queue&&jSuites.ajax.queue.length>0&&jSuites.ajax.send(jSuites.ajax.queue.shift()),jSuites.ajax.requests&&jSuites.ajax.requests.length){var index=jSuites.ajax.requests.indexOf(httpRequest);if(jSuites.ajax.requests.splice(index,1),jSuites.ajax.requests.length||options.complete&&"function"==typeof options.complete&&options.complete(result),options.group&&jSuites.ajax.oncomplete&&"function"==typeof jSuites.ajax.oncomplete[options.group]&&(jSuites.ajax.pending(options.group)||(jSuites.ajax.oncomplete[options.group](),jSuites.ajax.oncomplete[options.group]=null)),options.multiple&&options.multiple.instance){var index=options.multiple.instance.indexOf(httpRequest);options.multiple.instance.splice(index,1),options.multiple.instance.length||options.multiple.complete&&"function"==typeof options.multiple.complete&&options.multiple.complete(result)}}},httpRequest.options=options,httpRequest.data=data,1==options.queue&&jSuites.ajax.requests.length>0?jSuites.ajax.queue.push(httpRequest):jSuites.ajax.send(httpRequest),httpRequest},jSuites.ajax.send=function(httpRequest){httpRequest.data?Array.isArray(httpRequest.data)?httpRequest.send(httpRequest.data.join("&")):httpRequest.send(httpRequest.data):httpRequest.send(),jSuites.ajax.requests.push(httpRequest)},jSuites.ajax.exists=function(url,__callback){var http=new XMLHttpRequest;http.open("HEAD",url,!1),http.send(),http.status&&__callback(http.status)},jSuites.ajax.pending=function(group){var n=0,o=jSuites.ajax.requests;if(o&&o.length)for(var i=0;i<o.length;i++)group&&group!=o[i].options.group||n++;return n},jSuites.ajax.oncomplete={},jSuites.ajax.requests=[],jSuites.ajax.queue=[],jSuites.alert=function(message){jSuites.getWindowWidth()<800&&jSuites.dialog?jSuites.dialog.open({title:"Alert",message:message}):alert(message)},jSuites.animation={},jSuites.animation.slideLeft=function(element,direction,done){1==direction?(element.classList.add("slide-left-in"),setTimeout((function(){element.classList.remove("slide-left-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-left-out"),setTimeout((function(){element.classList.remove("slide-left-out"),"function"==typeof done&&done()}),400))},jSuites.animation.slideRight=function(element,direction,done){1==direction?(element.classList.add("slide-right-in"),setTimeout((function(){element.classList.remove("slide-right-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-right-out"),setTimeout((function(){element.classList.remove("slide-right-out"),"function"==typeof done&&done()}),400))},jSuites.animation.slideTop=function(element,direction,done){1==direction?(element.classList.add("slide-top-in"),setTimeout((function(){element.classList.remove("slide-top-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-top-out"),setTimeout((function(){element.classList.remove("slide-top-out"),"function"==typeof done&&done()}),400))},jSuites.animation.slideBottom=function(element,direction,done){1==direction?(element.classList.add("slide-bottom-in"),setTimeout((function(){element.classList.remove("slide-bottom-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-bottom-out"),setTimeout((function(){element.classList.remove("slide-bottom-out"),"function"==typeof done&&done()}),100))},jSuites.animation.fadeIn=function(element,done){element.style.display="",element.classList.add("fade-in"),setTimeout((function(){element.classList.remove("fade-in"),"function"==typeof done&&done()}),2e3)},jSuites.animation.fadeOut=function(element,done){element.classList.add("fade-out"),setTimeout((function(){element.style.display="none",element.classList.remove("fade-out"),"function"==typeof done&&done()}),1e3)},jSuites.calendar=function(el,options){if(el.calendar)return el.calendar.setOptions(options,!0);var obj={type:"calendar",options:{},date:null,setOptions:function(options,reset){var defaults={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:jSuites.calendar.monthsShort,monthsFull:jSuites.calendar.months,weekdays:jSuites.calendar.weekdays,textDone:jSuites.translate("Done"),textReset:jSuites.translate("Reset"),textUpdate:jSuites.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);if(0==obj.options.resetButton?calendarReset.style.display="none":calendarReset.style.display="",obj.options.readonly?el.setAttribute("readonly","readonly"):el.removeAttribute("readonly"),obj.options.placeholder?el.setAttribute("placeholder",obj.options.placeholder):el.removeAttribute("placeholder"),jSuites.isNumeric(obj.options.value)&&obj.options.value>0&&(obj.options.value=jSuites.calendar.numToDate(obj.options.value),obj.options.dataType="numeric"),calendarReset.innerHTML=obj.options.textReset,calendarConfirm.innerHTML=obj.options.textDone,calendarControlsUpdateButton.innerHTML=obj.options.textUpdate,el.setAttribute("data-mask",obj.options.format.toLowerCase()),!obj.options.value&&obj.options.today)var value=jSuites.calendar.now();else var value=obj.options.value;return value&&(obj.options.value=null,obj.setValue(value)),obj},open:function(value){if(!calendar.classList.contains("jcalendar-focus")&&!calendar.classList.contains("jcalendar-inline")){if(jSuites.calendar.current=obj,jSuites.tracking(obj,!0),obj.getDays(),"year-month-picker"==obj.options.type&&obj.getMonths(),obj.options.time&&(calendarSelectHour.value=obj.date[3],calendarSelectMin.value=obj.date[4]),calendar.classList.add("jcalendar-focus"),jSuites.getWindowWidth()<800||obj.options.fullscreen)calendar.classList.add("jcalendar-fullsize"),jSuites.animation.slideBottom(calendarContent,1);else{calendar.classList.remove("jcalendar-fullsize");var rect=el.getBoundingClientRect(),rectContent=calendarContent.getBoundingClientRect();if(obj.options.position)calendarContainer.style.position="fixed",window.innerHeight<rect.bottom+rectContent.height?calendarContainer.style.top=rect.top-(rectContent.height+2)+"px":calendarContainer.style.top=rect.top+rect.height+2+"px",calendarContainer.style.left=rect.left+"px";else{var d;if(window.innerHeight<rect.bottom+rectContent.height)(d=-1*(rect.height+rectContent.height+2))+rect.top<0&&(d=-1*(rect.top+rect.height)),calendarContainer.style.top=d+"px";else calendarContainer.style.top="2px";if(window.innerWidth<rect.left+rectContent.width){var d=window.innerWidth-(rect.left+rectContent.width+20);calendarContainer.style.left=d+"px"}else calendarContainer.style.left="0px"}}"function"==typeof obj.options.onopen&&obj.options.onopen(el)}},close:function(ignoreEvents,update){if(calendar.classList.contains("jcalendar-focus")){if(!1!==update){var element=calendar.querySelector(".jcalendar-selected");if("string"==typeof update)var value=update;else if(!element||element.classList.contains("jcalendar-disabled"))var value=obj.options.value;else var value=obj.getValue();obj.setValue(value)}ignoreEvents||"function"!=typeof obj.options.onclose||obj.options.onclose(el),calendar.classList.remove("jcalendar-focus"),jSuites.tracking(obj,!1),jSuites.calendar.current=null}return obj.options.value},prev:function(){"years"==obj.options.mode?(obj.date[0]=obj.date[0]-12,obj.getYears()):"months"==obj.options.mode?(obj.date[0]=parseInt(obj.date[0])-1,obj.getMonths()):(obj.date[1]<2?(obj.date[0]=obj.date[0]-1,obj.date[1]=12):obj.date[1]=obj.date[1]-1,obj.getDays())},next:function(){"years"==obj.options.mode?(obj.date[0]=parseInt(obj.date[0])+12,obj.getYears()):"months"==obj.options.mode?(obj.date[0]=parseInt(obj.date[0])+1,obj.getMonths()):(obj.date[1]>11?(obj.date[0]=parseInt(obj.date[0])+1,obj.date[1]=1):obj.date[1]=parseInt(obj.date[1])+1,obj.getDays())},setToday:function(){var value=(new Date).toISOString().substr(0,10);return obj.setValue(value),value},setValue:function(val){val||(val=""+val);var newValue=val,oldValue=obj.options.value;if(oldValue!=newValue){if(newValue){var value=obj.setLabel(newValue,obj.options),date;(date=newValue.split(" "))[1]||(date[1]="00:00:00");var time=date[1].split(":"),date=date[0].split("-"),y=parseInt(date[0]),m=parseInt(date[1]),d=parseInt(date[2]),h=parseInt(time[0]),i=parseInt(time[1]);obj.date=[y,m,d,h,i,0];var val=obj.setLabel(newValue,obj.options)}else{obj.date=null;var val=""}obj.options.value=newValue,"function"==typeof obj.options.onchange&&obj.options.onchange(el,newValue,oldValue),el.value!=val&&(el.value=val,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))}obj.getDays()},getValue:function(){return obj.date?obj.options.time?jSuites.two(obj.date[0])+"-"+jSuites.two(obj.date[1])+"-"+jSuites.two(obj.date[2])+" "+jSuites.two(obj.date[3])+":"+jSuites.two(obj.date[4])+":"+jSuites.two(0):jSuites.two(obj.date[0])+"-"+jSuites.two(obj.date[1])+"-"+jSuites.two(obj.date[2])+" "+jSuites.two(0)+":"+jSuites.two(0)+":"+jSuites.two(0):""},update:function(element,v){if(element.classList.contains("jcalendar-disabled"));else{var elements=calendar.querySelector(".jcalendar-selected");elements&&elements.classList.remove("jcalendar-selected"),element.classList.add("jcalendar-selected"),element.classList.contains("jcalendar-set-month")?(obj.date[1]=v,obj.date[2]=1):obj.date[2]=element.innerText,obj.options.time?(obj.date[3]=calendarSelectHour.value,obj.date[4]=calendarSelectMin.value):obj.close()}updateActions()},reset:function(){obj.setValue(""),obj.date=null,obj.close(!1,!1)},getDays:function(){obj.options.mode="days";var date=new Date,year=obj.date&&jSuites.isNumeric(obj.date[0])?obj.date[0]:parseInt(date.getFullYear()),month=obj.date&&jSuites.isNumeric(obj.date[1])?obj.date[1]:parseInt(date.getMonth())+1,day=obj.date&&jSuites.isNumeric(obj.date[2])?obj.date[2]:parseInt(date.getDate()),hour=obj.date&&jSuites.isNumeric(obj.date[3])?obj.date[3]:parseInt(date.getHours()),min=obj.date&&jSuites.isNumeric(obj.date[4])?obj.date[4]:parseInt(date.getMinutes());obj.date=[year,month,day,hour,min,0],calendarLabelYear.innerHTML=year,calendarLabelMonth.innerHTML=obj.options.months[month-1];var isCurrentMonthAndYear=date.getMonth()==month-1&&date.getFullYear()==year,currentDay=date.getDate(),date,numberOfDays=(date=new Date(year,month,0,0,0)).getDate(),date,firstDay=(date=new Date(year,month-1,0,0,0)).getDay()+1,index,row;firstDay-=index=obj.options.startingDay||0,calendarBody.innerHTML="",(row=document.createElement("tr")).setAttribute("align","center"),calendarBody.appendChild(row);for(var i=0;i<7;i++){var cell;(cell=document.createElement("td")).classList.add("jcalendar-weekday"),cell.innerHTML=obj.options.weekdays[index].substr(0,1),row.appendChild(cell),++index>6&&(index=0)}for(var index=0,d=0,j=0;j<6;j++){var row;(row=document.createElement("tr")).setAttribute("align","center");for(var emptyRow=!0,i=0;i<7;i++){var cell;if((cell=document.createElement("td")).classList.add("jcalendar-set-day"),index>=firstDay&&index<firstDay+numberOfDays){d++,cell.innerHTML=d,d==day&&cell.classList.add("jcalendar-selected"),isCurrentMonthAndYear&&currentDay==d&&(cell.style.fontWeight="bold");var current=jSuites.calendar.now(new Date(year,month-1,d),!0);if(obj.options.validRange){if(!obj.options.validRange[0]||current>=obj.options.validRange[0])var test1=!0;else var test1=!1;if(!obj.options.validRange[1]||current<=obj.options.validRange[1])var test2=!0;else var test2=!1;test1&&test2||cell.classList.add("jcalendar-disabled")}emptyRow=!1}row.appendChild(cell),index++}0==emptyRow&&calendarBody.appendChild(row)}obj.options.time?calendarControlsTime.style.display="":calendarControlsTime.style.display="none",updateActions()},getMonths:function(){obj.options.mode="months";var months=obj.options.months,value=obj.options.value,date=new Date,currentYear=parseInt(date.getFullYear()),currentMonth=parseInt(date.getMonth())+1,selectedYear=obj.date&&jSuites.isNumeric(obj.date[0])?obj.date[0]:currentYear,selectedMonth=obj.date&&jSuites.isNumeric(obj.date[1])?obj.date[1]:currentMonth;calendarLabelYear.innerHTML=obj.date[0],calendarLabelMonth.innerHTML=months[selectedMonth-1];var table=document.createElement("table");table.setAttribute("width","100%");for(var row=null,i=0;i<12;i++){var row;if(!(i%4))(row=document.createElement("tr")).setAttribute("align","center"),table.appendChild(row);var cell=document.createElement("td");if(cell.classList.add("jcalendar-set-month"),cell.setAttribute("data-value",i+1),cell.innerText=months[i],obj.options.validRange){var current=selectedYear+"-"+jSuites.two(i+1);if(!obj.options.validRange[0]||current>=obj.options.validRange[0].substr(0,7))var test1=!0;else var test1=!1;if(!obj.options.validRange[1]||current<=obj.options.validRange[1].substr(0,7))var test2=!0;else var test2=!1;test1&&test2||cell.classList.add("jcalendar-disabled")}i+1==selectedMonth&&cell.classList.add("jcalendar-selected"),currentYear==selectedYear&&i+1==currentMonth&&(cell.style.fontWeight="bold"),row.appendChild(cell)}calendarBody.innerHTML='<tr><td colspan="7"></td></tr>',calendarBody.children[0].children[0].appendChild(table),updateActions()},getYears:function(){obj.options.mode="years";for(var date=new Date,currentYear=date.getFullYear(),selectedYear=obj.date&&jSuites.isNumeric(obj.date[0])?obj.date[0]:parseInt(date.getFullYear()),y=[],i=0;i<25;i++)y[i]=parseInt(obj.date[0])+(i-12);var table=document.createElement("table");table.setAttribute("width","100%");for(var i=0;i<25;i++){if(!(i%5)){var row=document.createElement("tr");row.setAttribute("align","center"),table.appendChild(row)}var cell=document.createElement("td");cell.classList.add("jcalendar-set-year"),cell.innerText=y[i],selectedYear==y[i]&&cell.classList.add("jcalendar-selected"),currentYear==y[i]&&(cell.style.fontWeight="bold"),row.appendChild(cell)}calendarBody.innerHTML='<tr><td colspan="7"></td></tr>',calendarBody.firstChild.firstChild.appendChild(table),updateActions()},setLabel:function(value,mixed){return jSuites.calendar.getDateString(value,mixed)},fromFormatted:function(value,format){return jSuites.calendar.extractDateFromString(value,format)}},mouseUpControls=function(e){var element;if(jSuites.findElement(e.target,"jcalendar-container")){var action=e.target.className;if("jcalendar-prev"==action)obj.prev();else if("jcalendar-next"==action)obj.next();else if("jcalendar-month"==action)obj.getMonths();else if("jcalendar-year"==action)obj.getYears();else if("jcalendar-set-year"==action)obj.date[0]=e.target.innerText,"year-month-picker"==obj.options.type?obj.getMonths():obj.getDays();else if(e.target.classList.contains("jcalendar-set-month")){var month=parseInt(e.target.getAttribute("data-value"));"year-month-picker"==obj.options.type?obj.update(e.target,month):(obj.date[1]=month,obj.getDays())}else"jcalendar-confirm"==action||"jcalendar-update"==action||"jcalendar-close"==action?obj.close():"jcalendar-backdrop"==action?obj.close(!1,!1):"jcalendar-reset"==action?obj.reset():e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&obj.update(e.target)}else obj.close()},keyUpControls=function(e){if(e.target.value&&e.target.value.length>3){var test=jSuites.calendar.extractDateFromString(e.target.value,obj.options.format);test&&obj.setValue(test)}},updateActions=function(){var currentDay=calendar.querySelector(".jcalendar-selected");currentDay&&currentDay.classList.contains("jcalendar-disabled")?(calendarControlsUpdateButton.setAttribute("disabled","disabled"),calendarSelectHour.setAttribute("disabled","disabled"),calendarSelectMin.setAttribute("disabled","disabled")):(calendarControlsUpdateButton.removeAttribute("disabled"),calendarSelectHour.removeAttribute("disabled"),calendarSelectMin.removeAttribute("disabled")),"function"==typeof obj.options.onupdate&&obj.options.onupdate(el,obj.getValue())},calendar=null,calendarReset=null,calendarConfirm=null,calendarContainer=null,calendarContent=null,calendarLabelYear=null,calendarLabelMonth=null,calendarTable=null,calendarBody=null,calendarControls=null,calendarControlsTime=null,calendarControlsUpdate=null,calendarControlsUpdateButton=null,calendarSelectHour=null,calendarSelectMin=null,init;return function(){"INPUT"==el.tagName&&el.value&&(options.value=el.value),(calendarReset=document.createElement("div")).className="jcalendar-reset",(calendarConfirm=document.createElement("div")).className="jcalendar-confirm",(calendarControls=document.createElement("div")).className="jcalendar-controls",calendarControls.style.borderBottom="1px solid #ddd",calendarControls.appendChild(calendarReset),calendarControls.appendChild(calendarConfirm),(calendarContainer=document.createElement("div")).className="jcalendar-container",(calendarContent=document.createElement("div")).className="jcalendar-content",calendarContainer.appendChild(calendarContent),"DIV"==el.tagName?(calendar=el).classList.add("jcalendar-inline"):(calendarContent.appendChild(calendarControls),(calendar=document.createElement("div")).className="jcalendar"),calendar.classList.add("jcalendar-container"),calendar.appendChild(calendarContainer);var calendarTableContainer=document.createElement("div");calendarTableContainer.className="jcalendar-table",calendarContent.appendChild(calendarTableContainer);var calendarHeaderPrev=document.createElement("td");calendarHeaderPrev.setAttribute("colspan","2"),calendarHeaderPrev.className="jcalendar-prev",(calendarLabelYear=document.createElement("span")).className="jcalendar-year",(calendarLabelMonth=document.createElement("span")).className="jcalendar-month";var calendarHeaderTitle=document.createElement("td");calendarHeaderTitle.className="jcalendar-header",calendarHeaderTitle.setAttribute("colspan","3"),calendarHeaderTitle.appendChild(calendarLabelMonth),calendarHeaderTitle.appendChild(calendarLabelYear);var calendarHeaderNext=document.createElement("td");calendarHeaderNext.setAttribute("colspan","2"),calendarHeaderNext.className="jcalendar-next";var calendarHeader=document.createElement("thead"),calendarHeaderRow=document.createElement("tr");calendarHeaderRow.appendChild(calendarHeaderPrev),calendarHeaderRow.appendChild(calendarHeaderTitle),calendarHeaderRow.appendChild(calendarHeaderNext),calendarHeader.appendChild(calendarHeaderRow),calendarTable=document.createElement("table"),calendarBody=document.createElement("tbody"),calendarTable.setAttribute("cellpadding","0"),calendarTable.setAttribute("cellspacing","0"),calendarTable.appendChild(calendarHeader),calendarTable.appendChild(calendarBody),calendarTableContainer.appendChild(calendarTable),(calendarSelectHour=document.createElement("select")).className="jcalendar-select",calendarSelectHour.onchange=function(){obj.date[3]=this.value,"function"==typeof obj.options.onupdate&&obj.options.onupdate(el,obj.getValue())};for(var i=0;i<24;i++){var element;(element=document.createElement("option")).value=i,element.innerHTML=jSuites.two(i),calendarSelectHour.appendChild(element)}(calendarSelectMin=document.createElement("select")).className="jcalendar-select",calendarSelectMin.onchange=function(){obj.date[4]=this.value,"function"==typeof obj.options.onupdate&&obj.options.onupdate(el,obj.getValue())};for(var i=0;i<60;i++){var element;(element=document.createElement("option")).value=i,element.innerHTML=jSuites.two(i),calendarSelectMin.appendChild(element)}var calendarControlsFooter=document.createElement("div");calendarControlsFooter.className="jcalendar-controls",(calendarControlsTime=document.createElement("div")).className="jcalendar-time",calendarControlsTime.style.maxWidth="140px",calendarControlsTime.appendChild(calendarSelectHour),calendarControlsTime.appendChild(calendarSelectMin),(calendarControlsUpdateButton=document.createElement("button")).setAttribute("type","button"),calendarControlsUpdateButton.className="jcalendar-update",(calendarControlsUpdate=document.createElement("div")).style.flexGrow="10",calendarControlsUpdate.appendChild(calendarControlsUpdateButton),calendarControlsFooter.appendChild(calendarControlsTime),"INPUT"==el.tagName&&calendarControlsFooter.appendChild(calendarControlsUpdate),calendarContent.appendChild(calendarControlsFooter);var calendarBackdrop=document.createElement("div");calendarBackdrop.className="jcalendar-backdrop",calendar.appendChild(calendarBackdrop),el.addEventListener("keyup",keyUpControls),calendar.addEventListener("swipeleft",(function(e){jSuites.animation.slideLeft(calendarTable,0,(function(){obj.next(),jSuites.animation.slideRight(calendarTable,1)})),e.preventDefault(),e.stopPropagation()})),calendar.addEventListener("swiperight",(function(e){jSuites.animation.slideRight(calendarTable,0,(function(){obj.prev(),jSuites.animation.slideLeft(calendarTable,1)})),e.preventDefault(),e.stopPropagation()})),el.onmouseup=function(){obj.open()},"ontouchend"in document.documentElement==!0?calendar.addEventListener("touchend",mouseUpControls):calendar.addEventListener("mouseup",mouseUpControls),jSuites.calendar.hasEvents||(jSuites.calendar.hasEvents=!0,document.addEventListener("keydown",jSuites.calendar.keydown)),obj.setOptions(options),"INPUT"==el.tagName?(el.parentNode.insertBefore(calendar,el.nextSibling),el.setAttribute("autocomplete","off"),el.classList.add("jcalendar-input"),el.value=obj.setLabel(obj.getValue(),obj.options)):(obj.getDays(),obj.options.time&&(calendarSelectHour.value=obj.date[3],calendarSelectMin.value=obj.date[4])),1==obj.options.opened&&obj.open(),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.calendar=calendar.calendar=obj}(),obj},jSuites.calendar.keydown=function(e){var calendar=null;(calendar=jSuites.calendar.current)&&(13==e.which?calendar.close(!1,!0):27==e.which&&calendar.close(!1,!1))},jSuites.calendar.prettify=function(d,texts){if(!texts)var texts={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};var d1=new Date,d2=new Date(d),total=parseInt((d1-d2)/1e3/60);if(String.prototype.format=function(o){return this.replace("{0}",o)},0==total)var text=texts.justNow;else if(total<90)var text=texts.xMinutesAgo.format(total);else if(total<1440)var text=texts.xHoursAgo.format(Math.round(total/60));else if(total<20160)var text=texts.xDaysAgo.format(Math.round(total/1440));else if(total<43200)var text=texts.xWeeksAgo.format(Math.round(total/10080));else if(total<1036800)var text=texts.xMonthsAgo.format(Math.round(total/43200));else var text=texts.xYearsAgo.format(Math.round(total/525600));return text},jSuites.calendar.prettifyAll=function(){for(var elements=document.querySelectorAll(".prettydate"),i=0;i<elements.length;i++)elements[i].getAttribute("data-date")?elements[i].innerHTML=jSuites.calendar.prettify(elements[i].getAttribute("data-date")):elements[i].innerHTML&&(elements[i].setAttribute("title",elements[i].innerHTML),elements[i].setAttribute("data-date",elements[i].innerHTML),elements[i].innerHTML=jSuites.calendar.prettify(elements[i].innerHTML))},jSuites.calendar.now=function(date,dateOnly){if(Array.isArray(date))var y=date[0],m=date[1],d=date[2],h=date[3],i=date[4],s=date[5];else{if(!date)var date=new Date;var y=date.getFullYear(),m=date.getMonth()+1,d=date.getDate(),h=date.getHours(),i=date.getMinutes(),s=date.getSeconds()}return 1==dateOnly?jSuites.two(y)+"-"+jSuites.two(m)+"-"+jSuites.two(d):jSuites.two(y)+"-"+jSuites.two(m)+"-"+jSuites.two(d)+" "+jSuites.two(h)+":"+jSuites.two(i)+":"+jSuites.two(s)},jSuites.calendar.toArray=function(value){var date,time=(date=value.split(-1!==value.indexOf("T")?"T":" "))[1],date=date[0].split("-"),y=parseInt(date[0]),m=parseInt(date[1]),d=parseInt(date[2]);if(time)var time=time.split(":"),h=parseInt(time[0]),i=parseInt(time[1]);else var h=0,i=0;return[y,m,d,h,i,0]},jSuites.calendar.extractDateFromString=function(date,format){if(date>0&&Number(date)==date){var d=new Date(Math.round(86400*(date-25569)*1e3));return d.getFullYear()+"-"+jSuites.two(d.getMonth())+"-"+jSuites.two(d.getDate())+" 00:00:00"}var o=jSuites.mask(date,{mask:format},!0);return o.date[0]&&o.date[1]?(o.date[2]||(o.date[2]=1),o.date[0]+"-"+jSuites.two(o.date[1])+"-"+jSuites.two(o.date[2])+" "+jSuites.two(o.date[3])+":"+jSuites.two(o.date[4])+":"+jSuites.two(o.date[5])):""};var excelInitialTime=Date.UTC(1900,0,0),excelLeapYearBug=Date.UTC(1900,1,29),millisecondsPerDay=864e5,palette,component;return jSuites.calendar.dateToNum=function(jsDate){"string"==typeof jsDate&&(jsDate=new Date(jsDate+"  GMT+0"));var jsDateInMilliseconds=jsDate.getTime();return jsDateInMilliseconds>=excelLeapYearBug&&(jsDateInMilliseconds+=864e5),(jsDateInMilliseconds-=excelInitialTime)/864e5},jSuites.calendar.numToDate=function(excelSerialNumber){var jsDateInMilliseconds=excelInitialTime+864e5*excelSerialNumber;jsDateInMilliseconds>=excelLeapYearBug&&(jsDateInMilliseconds-=864e5);const d=new Date(jsDateInMilliseconds);var date=[d.getUTCFullYear(),d.getUTCMonth()+1,d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()];return jSuites.calendar.now(date)},jSuites.calendar.getDateString=function(value,options){if(!options)var options={};if(options&&"object"==typeof options)var format=options.format;else var format=options;if(format||(format="YYYY-MM-DD"),format.indexOf("[h]")>=0){var result=0;if(value&&jSuites.isNumeric(value)&&(result=parseFloat(24*Number(value)),format.indexOf("mm")>=0)){var h;if((h=(""+result).split("."))[1]){var d=60*parseFloat("0."+h[1]);d=parseFloat(d.toFixed(2))}else var d=0;result=parseInt(h[0])+":"+jSuites.two(d)}return result}value instanceof Date?value=jSuites.calendar.now(value):value&&jSuites.isNumeric(value)&&(value=jSuites.calendar.numToDate(value));for(var tokens,e=new RegExp(["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."].join("|"),"gi"),t=format.match(e),i=0;i<t.length;i++)"MM"==t[i].toUpperCase()&&(t[i-1]&&t[i-1].toUpperCase().indexOf("H")>=0?t[i]="mi":t[i-2]&&t[i-2].toUpperCase().indexOf("H")>=0?t[i]="mi":t[i+1]&&t[i+1].toUpperCase().indexOf("S")>=0?t[i]="mi":t[i+2]&&t[i+2].toUpperCase().indexOf("S")>=0&&(t[i]="mi"));var o={tokens:t};if(value){var d,splitStr=-1!==(d=""+value).indexOf("T")?"T":" ",h=0,m=0,s=0;if((d=d.split(splitStr))[1]&&(m=(h=d[1].split(":"))[1]?h[1]:0,s=h[2]?h[2]:0,h=h[0]?h[0]:0),(d=d[0].split("-"))[0]&&d[1]&&d[2]&&d[0]>0&&d[1]>0&&d[1]<13&&d[2]>0&&d[2]<32){o.data=[d[0],d[1],d[2],h,m,s],o.value=[];for(var calendar=new Date(o.data[0],o.data[1]-1,o.data[2],o.data[3],o.data[4],o.data[5]),get=function(i){var t=this.tokens[i],s=t.toUpperCase(),v=null;"YYYY"===s?v=this.data[0]:"YYY"===s?v=this.data[0].substring(1,4):"YY"===s?v=this.data[0].substring(2,4):"Y"===s?v=this.data[0].substring(3,4):"MON"===t?v=jSuites.calendar.months[calendar.getMonth()].substr(0,3).toUpperCase():"mon"===t?v=jSuites.calendar.months[calendar.getMonth()].substr(0,3).toLowerCase():"MONTH"===t?v=jSuites.calendar.months[calendar.getMonth()].toUpperCase():"month"===t?v=jSuites.calendar.months[calendar.getMonth()].toLowerCase():"MMMMM"===s?v=jSuites.calendar.months[calendar.getMonth()].substr(0,1):"MMMM"===s||"Month"===t?v=jSuites.calendar.months[calendar.getMonth()]:"MMM"===s||"Mon"==t?v=jSuites.calendar.months[calendar.getMonth()].substr(0,3):"MM"===s?v=jSuites.two(this.data[1]):"M"===s?v=calendar.getMonth()+1:"DAY"===t?v=jSuites.calendar.weekdays[calendar.getDay()].toUpperCase():"day"===t?v=jSuites.calendar.weekdays[calendar.getDay()].toLowerCase():"DDDD"===s||"Day"==t?v=jSuites.calendar.weekdays[calendar.getDay()]:"DDD"===s?v=jSuites.calendar.weekdays[calendar.getDay()].substr(0,3):"DD"===s?v=jSuites.two(this.data[2]):"D"===s?v=this.data[2]:"Q"===s?v=Math.floor((calendar.getMonth()+3)/3):"HH24"===s||"HH"===s?v=jSuites.two(this.data[3]):"HH12"===s?v=this.data[3]>12?jSuites.two(this.data[3]-12):jSuites.two(this.data[3]):"H"===s?v=this.data[3]:"MI"===s?v=jSuites.two(this.data[4]):"SS"===s?v=jSuites.two(this.data[5]):"MS"===s?v=calendar.getMilliseconds():"AM/PM"===s?v=this.data[3]>=12?"PM":"AM":"WD"===s&&(v=jSuites.calendar.weekdays[calendar.getDay()]),this.value[i]=null===v?this.tokens[i]:v},i=0;i<o.tokens.length;i++)get.call(o,i);value=o.value.join("")}else value=""}return value},jSuites.calendar.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],jSuites.calendar.months=["January","February","March","April","May","June","July","August","September","October","November","December"],jSuites.calendar.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jSuites.calendar.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jSuites.color=function(el,options){if(el.color)return el.color.setOptions(options,!0);var obj={type:"color",options:{}},container=null,backdrop=null,content=null,resetButton=null,closeButton=null,tabs=null,jsuitesTabs=null;obj.setOptions=function(options,reset){var defaults={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var property in options||(options={}),options&&!options.palette&&(options.palette=jSuites.palette()),defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return resetButton&&(resetButton.innerHTML=obj.options.resetLabel),closeButton&&(closeButton.innerHTML=obj.options.doneLabel),obj.options.palette&&jsuitesTabs&&jsuitesTabs.updateContent(0,table()),"string"==typeof obj.options.value&&(el.value=obj.options.value,"INPUT"===el.tagName&&(el.style.color=el.value,el.style.backgroundColor=el.value)),obj.options.placeholder?el.setAttribute("placeholder",obj.options.placeholder):el.getAttribute("placeholder")&&el.removeAttribute("placeholder"),obj},obj.select=function(color){var selected=container.querySelector(".jcolor-selected");selected&&selected.classList.remove("jcolor-selected"),obj.values[color]&&obj.values[color].classList.add("jcolor-selected"),obj.options.value=color},obj.open=function(){if(!container.classList.contains("jcolor-focus")){jSuites.tracking(obj,!0),container.classList.add("jcolor-focus"),obj.options.value&&obj.select(obj.options.value),content.style.marginTop="",content.style.marginLeft="";var rectContent=content.getBoundingClientRect(),availableWidth=jSuites.getWindowWidth(),availableHeight=jSuites.getWindowHeight();if(availableWidth<800||1==obj.options.fullscreen?(content.classList.add("jcolor-fullscreen"),jSuites.animation.slideBottom(content,1),backdrop.style.display="block"):(content.classList.contains("jcolor-fullscreen")&&(content.classList.remove("jcolor-fullscreen"),backdrop.style.display=""),obj.options.position?content.style.position="fixed":content.style.position="",rectContent.left+rectContent.width>availableWidth&&(content.style.marginLeft=-1*(rectContent.left+rectContent.width-(availableWidth-20))+"px"),rectContent.top+rectContent.height>availableHeight&&(content.style.marginTop=-1*(rectContent.top+rectContent.height-(availableHeight-20))+"px")),"function"==typeof obj.options.onopen&&obj.options.onopen(el),jsuitesTabs.setBorder(jsuitesTabs.getActive()),obj.options.value){var rgb=HexToRgb(obj.options.value);rgbInputs.forEach((function(rgbInput,index){rgbInput.value=rgb[index],rgbInput.dispatchEvent(new Event("input"))}))}}},obj.close=function(ignoreEvents){return container.classList.contains("jcolor-focus")&&(container.classList.remove("jcolor-focus"),backdrop.style.display="",ignoreEvents||"function"!=typeof obj.options.onclose||obj.options.onclose(el),jSuites.tracking(obj,!1)),obj.options.value},obj.setValue=function(color){color||(color=""),color!=obj.options.value&&(obj.options.value=color,slidersResult=color,obj.select(color),"function"==typeof obj.options.onchange&&obj.options.onchange(el,color),el.value!=obj.options.value&&(el.value=obj.options.value,"INPUT"===el.tagName&&(el.style.color=el.value,el.style.backgroundColor=el.value),"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value})),1==obj.options.closeOnChange&&obj.close())},obj.getValue=function(){return obj.options.value};var backdropClickControl=!1,decToHex=function(num){var hex=num.toString(16);return 1===hex.length?"0"+hex:hex},rgbToHex=function(r,g,b){return"#"+decToHex(r)+decToHex(g)+decToHex(b)},hexToDec=function(hex){return parseInt("0x"+hex)},HexToRgb=function(hex){return[hexToDec(hex.substr(1,2)),hexToDec(hex.substr(3,2)),hexToDec(hex.substr(5,2))]},table=function(){var tableContainer=document.createElement("div");tableContainer.className="jcolor-grid",obj.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var j=0;j<obj.options.palette.length;j++){for(var tr=document.createElement("tr"),i=0;i<obj.options.palette[j].length;i++){var td=document.createElement("td"),color=obj.options.palette[j][i];color.length<7&&"#"!==color.substr(0,1)&&(color="#"+color),td.style.backgroundColor=color,td.setAttribute("data-value",color),td.innerHTML="",tr.appendChild(td),obj.options.value==color&&td.classList.add("jcolor-selected"),obj.values[color]=td}t.appendChild(tr)}return tableContainer.appendChild(t),tableContainer},canvas=document.createElement("canvas");canvas.width=200,canvas.height=160;var context=canvas.getContext("2d"),resizeCanvas=function(){var m=tabs.firstChild.getBoundingClientRect();canvas.width=m.width-14,gradient()},gradient=function(){var g=context.createLinearGradient(0,0,canvas.width,0);g.addColorStop(0,"rgb(255,0,0)"),g.addColorStop(.15,"rgb(255,0,255)"),g.addColorStop(.33,"rgb(0,0,255)"),g.addColorStop(.49,"rgb(0,255,255)"),g.addColorStop(.67,"rgb(0,255,0)"),g.addColorStop(.84,"rgb(255,255,0)"),g.addColorStop(1,"rgb(255,0,0)"),context.fillStyle=g,context.fillRect(0,0,canvas.width,canvas.height),(g=context.createLinearGradient(0,0,0,canvas.height)).addColorStop(0,"rgba(255,255,255,1)"),g.addColorStop(.5,"rgba(255,255,255,0)"),g.addColorStop(.5,"rgba(0,0,0,0)"),g.addColorStop(1,"rgba(0,0,0,1)"),context.fillStyle=g,context.fillRect(0,0,canvas.width,canvas.height)},hsl=function(){var element=document.createElement("div");element.className="jcolor-hsl";var point=document.createElement("div");point.className="jcolor-point";var div=document.createElement("div");div.appendChild(canvas),div.appendChild(point),element.appendChild(div);var update=function(buttons,x,y){if(1===buttons){var rect=element.getBoundingClientRect(),left=x-rect.left,top=y-rect.top;left<0&&(left=0),top<0&&(top=0),left>rect.width&&(left=rect.width),top>rect.height&&(top=rect.height),point.style.left=left+"px",point.style.top=top+"px";var pixel=context.getImageData(left,top,1,1).data;slidersResult=rgbToHex(pixel[0],pixel[1],pixel[2])}};return element.addEventListener("mousedown",(function(e){update(e.buttons,e.clientX,e.clientY)})),element.addEventListener("mousemove",(function(e){update(e.buttons,e.clientX,e.clientY)})),element.addEventListener("touchmove",(function(e){update(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)})),element},slidersResult="",rgbInputs=[],changeInputColors=function(){if(""!==slidersResult)for(var j=0;j<rgbInputs.length;j++){var currentColor=HexToRgb(slidersResult);currentColor[j]=0;var newGradient="linear-gradient(90deg, rgb(";newGradient+=currentColor.join(", "),newGradient+="), rgb(",currentColor[j]=255,newGradient+=currentColor.join(", "),newGradient+="))",rgbInputs[j].style.backgroundImage=newGradient}},sliders=function(){var slidersElement=document.createElement("div");slidersElement.className="jcolor-sliders";var slidersBody=document.createElement("div"),createSliderInput=function(name){var inputContainer=document.createElement("div");inputContainer.className="jcolor-sliders-input-container";var label=document.createElement("label");label.innerText=name;var subContainer=document.createElement("div");subContainer.className="jcolor-sliders-input-subcontainer";var input=document.createElement("input");input.type="range",input.min=0,input.max=255,input.value=0,inputContainer.appendChild(label),subContainer.appendChild(input);var value=document.createElement("div");return value.innerText=input.value,input.addEventListener("input",(function(){value.innerText=input.value})),subContainer.appendChild(value),inputContainer.appendChild(subContainer),slidersBody.appendChild(inputContainer),input};rgbInputs=[createSliderInput("Red"),createSliderInput("Green"),createSliderInput("Blue")],slidersElement.appendChild(slidersBody);var slidersResultColor=document.createElement("div");slidersResultColor.className="jcolor-sliders-final-color";var resultElement=document.createElement("div");resultElement.style.visibility="hidden",resultElement.innerText="a",slidersResultColor.appendChild(resultElement);var updateResult=function(){var resultColor=rgbToHex(parseInt(rgbInputs[0].value),parseInt(rgbInputs[1].value),parseInt(rgbInputs[2].value));resultElement.innerText=resultColor,resultElement.style.color=resultColor,resultElement.style.removeProperty("visibility"),slidersResult=resultColor};return rgbInputs.forEach((function(rgbInput){rgbInput.addEventListener("input",(function(){updateResult(),changeInputColors()}))})),slidersElement.appendChild(slidersResultColor),slidersElement},init=function(){obj.setOptions(options),"INPUT"==el.tagName&&(el.classList.add("jcolor-input"),el.readOnly=!0),(container=document.createElement("div")).className="jcolor",(backdrop=document.createElement("div")).className="jcolor-backdrop",container.appendChild(backdrop),(content=document.createElement("div")).className="jcolor-content";var controls=document.createElement("div");controls.className="jcolor-controls",content.appendChild(controls),(resetButton=document.createElement("div")).className="jcolor-reset",resetButton.innerHTML=obj.options.resetLabel,controls.appendChild(resetButton),(closeButton=document.createElement("div")).className="jcolor-close",closeButton.innerHTML=obj.options.doneLabel,controls.appendChild(closeButton),tabs=document.createElement("div"),content.appendChild(tabs),jsuitesTabs=jSuites.tabs(tabs,{animation:!0,data:[{title:"Grid",contentElement:table()},{title:"Spectrum",contentElement:hsl()},{title:"Sliders",contentElement:sliders()}],onchange:function(element,instance,index){if(1===index)resizeCanvas();else{var color=""!==slidersResult?slidersResult:obj.getValue();if(2===index&&color){var rgb=HexToRgb(color);rgbInputs.forEach((function(rgbInput,index){rgbInput.value=rgb[index],rgbInput.dispatchEvent(new Event("input"))}))}}},palette:"modern"}),container.appendChild(content),"INPUT"==el.tagName?el.parentNode.insertBefore(container,el.nextSibling):el.appendChild(container),container.addEventListener("click",(function(e){if("TD"==e.target.tagName){var value=e.target.getAttribute("data-value");value&&obj.setValue(value)}else e.target.classList.contains("jcolor-reset")?(obj.setValue(""),obj.close()):e.target.classList.contains("jcolor-close")?(jsuitesTabs.getActive()>0&&obj.setValue(slidersResult),obj.close()):e.target.classList.contains("jcolor-backdrop")?obj.close():obj.open()})),el.addEventListener("mouseup",(function(e){obj.open()})),window.addEventListener("resize",(function(){container.classList.contains("jcolor-focus")&&1==jsuitesTabs.getActive()&&resizeCanvas()})),1==obj.options.opened&&obj.open(),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.color=obj,container.color=obj};return obj.toHex=function(rgb){var hex=function(x){return("0"+parseInt(x).toString(16)).slice(-2)};if(rgb)return/^#[0-9A-F]{6}$/i.test(rgb)?rgb:(rgb=rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))&&rgb.length?"#"+hex(rgb[1])+hex(rgb[2])+hex(rgb[3]):""},init(),obj},jSuites.contextmenu=function(el,options){var obj={type:"contextmenu",options:{}},defaults={items:null,onclick:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];function createHeader(){var header=document.createElement("div");header.classList.add("header"),header.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}));var title=document.createElement("a");title.classList.add("title"),title.innerHTML=jSuites.translate("Menu"),header.appendChild(title);var closeButton=document.createElement("a");return closeButton.classList.add("close"),closeButton.innerHTML=jSuites.translate("close"),closeButton.addEventListener("click",(function(e){obj.close()})),header.appendChild(closeButton),header}function createItemElement(item){if(!item.type||"line"!=item.type&&"divisor"!=item.type){var itemContainer=document.createElement("div"),itemText=document.createElement("a");if(itemText.innerHTML=item.title,item.tooltip&&itemContainer.setAttribute("title",item.tooltip),item.icon&&itemContainer.setAttribute("data-icon",item.icon),item.id&&(itemContainer.id=item.id),item.disabled?itemContainer.className="jcontextmenu-disabled":item.onclick&&(itemContainer.method=item.onclick,itemContainer.addEventListener("mousedown",(function(e){e.preventDefault()})),itemContainer.addEventListener("mouseup",(function(e){this.method(this,e)}))),itemContainer.appendChild(itemText),item.submenu){var itemIconSubmenu=document.createElement("span");itemIconSubmenu.innerHTML="&#9658;",itemContainer.appendChild(itemIconSubmenu),itemContainer.classList.add("jcontexthassubmenu");var el_submenu=document.createElement("div");el_submenu.classList.add("jcontextmenu"),el_submenu.setAttribute("tabindex","900");for(var submenu=item.submenu,i=0;i<submenu.length;i++){var itemContainerSubMenu=createItemElement(submenu[i]);el_submenu.appendChild(itemContainerSubMenu)}itemContainer.appendChild(el_submenu)}else if(item.shortcut){var itemShortCut=document.createElement("span");itemShortCut.innerHTML=item.shortcut,itemContainer.appendChild(itemShortCut)}}else var itemContainer=document.createElement("hr");return itemContainer}return el.classList.add("jcontextmenu"),obj.open=function(e,items){if(items&&(obj.options.items=items,obj.create(items)),jSuites.contextmenu.current&&jSuites.contextmenu.current.close(),jSuites.tracking(obj,!0),el.classList.add("jcontextmenu-focus"),jSuites.contextmenu.current=obj,obj.options.items&&obj.options.items.length>0||el.children.length){if(e.target)if(e.changedTouches&&e.changedTouches[0])x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;else var x=e.x,y=e.y;var rect=el.getBoundingClientRect();if(window.innerHeight<y+rect.height){var h=y-rect.height;h<0&&(h=0),el.style.top=h+"px"}else el.style.top=y+"px";window.innerWidth<x+rect.width?x-rect.width>0?el.style.left=x-rect.width+"px":el.style.left="10px":el.style.left=x+"px"}},obj.isOpened=function(){return!!el.classList.contains("jcontextmenu-focus")},obj.close=function(){el.classList.contains("jcontextmenu-focus")&&el.classList.remove("jcontextmenu-focus"),jSuites.tracking(obj,!1)},obj.create=function(items){el.innerHTML="";var itemHeader=createHeader();el.appendChild(itemHeader);for(var i=0;i<items.length;i++){var itemContainer=createItemElement(items[i]);el.appendChild(itemContainer)}},"function"==typeof obj.options.onclick&&el.addEventListener("click",(function(e){obj.options.onclick(obj,e)})),obj.options.items&&obj.create(obj.options.items),window.addEventListener("mousewheel",(function(){obj.close()})),el.contextmenu=obj,obj},jSuites.dropdown=function(el,options){if(el.dropdown)return el.dropdown.setOptions(options,!0);var obj={type:"dropdown",options:{}},success=function(data,val){data&&data.length&&(!1!==obj.options.sortResults&&("function"==typeof obj.options.sortResults?data.sort(obj.options.sortResults):data.sort(sortData)),obj.setData(data)),"function"==typeof obj.options.onload&&obj.options.onload(el,obj,data,val),val&&applyValue(val),null==val&&(obj.options.value=""),el.value=obj.options.value,1==obj.options.opened&&obj.open()},sortData=function(itemA,itemB){var testA,testB;return"string"==typeof itemA?testA=itemA:itemA.text?testA=itemA.text:itemA.name&&(testA=itemA.name),"string"==typeof itemB?testB=itemB:itemB.text?testB=itemB.text:itemB.name&&(testB=itemB.name),"string"==typeof testA||"string"==typeof testB?("string"!=typeof testA&&(testA=""+testA),"string"!=typeof testB&&(testB=""+testB),testA.localeCompare(testB)):testA-testB},resetValue=function(){obj.value={};for(var i=0;i<obj.items.length;i++)1==obj.items[i].selected&&(obj.items[i].element&&obj.items[i].element.classList.remove("jdropdown-selected"),obj.items[i].selected=null);obj.options.value=""},applyValue=function(values){if(resetValue(),null!==values)if(values){Array.isArray(values)||(values=(""+values).split(";"));for(var i=0;i<values.length;i++)obj.value[values[i]]=""}else void 0!==obj.value[""]&&(obj.value[""]="");for(var i=0;i<obj.items.length;i++)void 0!==obj.value[Value(i)]&&(obj.items[i].element&&obj.items[i].element.classList.add("jdropdown-selected"),obj.items[i].selected=!0,obj.value[Value(i)]=Text(i));obj.options.value=Object.keys(obj.value).join(";"),obj.header.value=obj.getText()},Value=function(k,v){if(obj.options.format)var property="id";else var property="value";return obj.items[k]?void 0!==v?obj.items[k].data[property]=v:obj.items[k].data[property]:""},Text=function(k,v){if(obj.options.format)var property="name";else var property="text";return obj.items[k]?void 0!==v?obj.items[k].data[property]=v:obj.items[k].data[property]:""},getValue=function(){return Object.keys(obj.value)},getText=function(){for(var data=[],k=Object.keys(obj.value),i=0;i<k.length;i++)data.push(obj.value[k[i]]);return data};obj.setOptions=function(options,reset){options||(options={});var defaults={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,sortResults:!1,autofocus:!1};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return 1!=obj.options.remoteSearch&&"searchbar"!==obj.options.type||(obj.options.autocomplete=!0),1==obj.options.newOptions?obj.header.classList.add("jdropdown-add"):obj.header.classList.remove("jdropdown-add"),1==obj.options.autocomplete?obj.header.removeAttribute("readonly"):obj.header.setAttribute("readonly","readonly"),obj.options.placeholder?obj.header.setAttribute("placeholder",obj.options.placeholder):obj.header.removeAttribute("placeholder"),el.classList.remove("jdropdown-searchbar"),el.classList.remove("jdropdown-picker"),el.classList.remove("jdropdown-list"),"searchbar"==obj.options.type?el.classList.add("jdropdown-searchbar"):"list"==obj.options.type?el.classList.add("jdropdown-list"):"picker"==obj.options.type?el.classList.add("jdropdown-picker"):jSuites.getWindowWidth()<800?obj.options.autocomplete?(el.classList.add("jdropdown-searchbar"),obj.options.type="searchbar"):(el.classList.add("jdropdown-picker"),obj.options.type="picker"):(obj.options.width?(el.style.width=obj.options.width,el.style.minWidth=obj.options.width):(el.style.removeProperty("width"),el.style.removeProperty("min-width")),el.classList.add("jdropdown-default"),obj.options.type="default"),"searchbar"==obj.options.type?containerHeader.appendChild(closeButton):container.insertBefore(closeButton,container.firstChild),obj.options.url&&!options.data?jSuites.ajax({url:obj.options.url,method:"GET",dataType:"json",success:function(data){data&&success(data,obj.options.value)}}):success(obj.options.data,obj.options.value),obj};var containerHeader=null,container=null,content=null,closeButton=null,resetButton=null,backdrop=null,keyTimer=null,init=function(){if(options||(options={}),"SELECT"==el.tagName){var ret=jSuites.dropdown.extractFromDom(el,options);el=ret.el,options=ret.options}!options.placeholder&&el.getAttribute("placeholder")&&(options.placeholder=el.getAttribute("placeholder")),obj.value={},obj.items=[],obj.groups=[],obj.search="",obj.results=null,el.classList.add("jdropdown"),(containerHeader=document.createElement("div")).className="jdropdown-container-header",obj.header=document.createElement("input"),obj.header.className="jdropdown-header jss_object",obj.header.type="text",obj.header.setAttribute("autocomplete","off"),obj.header.onfocus=function(){"function"==typeof obj.options.onfocus&&obj.options.onfocus(el)},obj.header.onblur=function(){"function"==typeof obj.options.onblur&&obj.options.onblur(el)},obj.header.onkeyup=function(e){1!=obj.options.autocomplete||keyTimer?obj.options.autocomplete||obj.next(e.key):(obj.search!=obj.header.value.trim()&&(keyTimer=setTimeout((function(){obj.find(obj.header.value.trim()),keyTimer=null}),400)),el.classList.contains("jdropdown-focus")||obj.open())},jSuites.dropdown.hasEvents||(jSuites.dropdown.hasEvents=!0,document.addEventListener("keydown",jSuites.dropdown.keydown)),(container=document.createElement("div")).className="jdropdown-container",(content=document.createElement("div")).className="jdropdown-content",(closeButton=document.createElement("div")).className="jdropdown-close",closeButton.innerHTML="Done",(resetButton=document.createElement("div")).className="jdropdown-reset",resetButton.innerHTML="x",resetButton.onclick=function(){obj.reset(),obj.close()},(backdrop=document.createElement("div")).className="jdropdown-backdrop",containerHeader.appendChild(obj.header),container.appendChild(content),el.appendChild(containerHeader),el.appendChild(container),el.appendChild(backdrop),obj.setOptions(options),"ontouchsend"in document.documentElement==!0?el.addEventListener("touchsend",jSuites.dropdown.mouseup):el.addEventListener("mouseup",jSuites.dropdown.mouseup),1==obj.options.lazyLoading&&jSuites.lazyLoading(content,{loadUp:obj.loadUp,loadDown:obj.loadDown}),content.onwheel=function(e){e.stopPropagation()},el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue(!!obj.options.multiple);obj.setValue(val)},el.dropdown=obj};obj.getUrl=function(){return obj.options.url},obj.setUrl=function(url,callback){obj.options.url=url,jSuites.ajax({url:obj.options.url,method:"GET",dataType:"json",success:function(data){obj.setData(data),"function"==typeof callback&&callback(obj)}})},obj.setId=function(item,v){if(obj.options.format)var property="id";else var property="value";"object"==typeof item?item[property]=v:obj.items[item].data[property]=v},obj.add=function(title,id){if(!title){var current=1==obj.options.autocomplete?obj.header.value:"",title;if(!(title=prompt(jSuites.translate("Add A New Option"),current)))return!1}if(id||(id=jSuites.guid()),obj.options.format)var item={id:id,name:title};else var item={value:id,text:title};if("function"==typeof obj.options.onbeforeinsert){var ret=obj.options.onbeforeinsert(obj,item);if(!1===ret)return!1;ret&&(item=ret)}obj.options.data.push(item);var newItem=obj.createItem(item);return content.appendChild(newItem.element),"function"==typeof obj.options.oninsert&&obj.options.oninsert(obj,item,newItem),"none"==content.style.display&&(content.style.display=""),obj.results&&obj.results.push(newItem),item},obj.createItem=function(data,group,groupName){obj.options.format?(data.id||void 0===data.value||(data.id=data.value),data.name||void 0===data.text||(data.name=data.text)):(data.value||void 0===data.id||(data.value=data.id),data.text||void 0===data.name||(data.text=data.name));var item={};if(item.element=document.createElement("div"),item.element.className="jdropdown-item",item.element.indexValue=obj.items.length,item.data=data,group&&(item.group=group),data.id&&item.element.setAttribute("id",data.id),1==data.disabled&&item.element.setAttribute("data-disabled",!0),data.tooltip&&item.element.setAttribute("title",data.tooltip),data.image){var image=document.createElement("img");image.className="jdropdown-image",image.src=data.image,data.title||image.classList.add("jdropdown-image-small"),item.element.appendChild(image)}else if(data.icon){var icon=document.createElement("span");icon.className="jdropdown-icon material-icons",icon.innerText=data.icon,data.title||icon.classList.add("jdropdown-icon-small"),data.color&&(icon.style.color=data.color),item.element.appendChild(icon)}else if(data.color){var color=document.createElement("div");color.className="jdropdown-color",color.style.backgroundColor=data.color,item.element.appendChild(color)}if(obj.options.format)var text=data.name;else var text=data.text;var node=document.createElement("div");if(node.className="jdropdown-description",node.innerHTML=text||"&nbsp;",data.title){var title=document.createElement("div");title.className="jdropdown-title",title.innerText=data.title,node.appendChild(title)}if(obj.options.format)var val=data.id;else var val=data.value;return obj.value[val]&&(item.element.classList.add("jdropdown-selected"),item.selected=!0),obj.items.push(item),item.element.appendChild(node),item},obj.appendData=function(data){if(data.length){for(var items=[],groups=[],i=0;i<data.length;i++)data[i].group?(groups[data[i].group]||(groups[data[i].group]=[]),groups[data[i].group].push(i)):items.push(i);var counter=0,groupNames=Object.keys(groups);if(groupNames.length>0)for(var i=0;i<groupNames.length;i++){var group=document.createElement("div");group.className="jdropdown-group";var groupName=document.createElement("div");groupName.className="jdropdown-group-name",groupName.innerHTML=groupNames[i];var groupArrow=document.createElement("i");groupArrow.className="jdropdown-group-arrow jdropdown-group-arrow-down",groupName.appendChild(groupArrow);var groupContent=document.createElement("div");groupContent.className="jdropdown-group-items";for(var j=0;j<groups[groupNames[i]].length;j++){var item=obj.createItem(data[groups[groupNames[i]][j]],group,groupNames[i]);(0==obj.options.lazyLoading||counter<200)&&(groupContent.appendChild(item.element),counter++)}group.appendChild(groupName),group.appendChild(groupContent),obj.groups.push(group),groupContent.children.length>0&&content.appendChild(group)}if(items.length)for(var i=0;i<items.length;i++){var item=obj.createItem(data[items[i]]);(0==obj.options.lazyLoading||counter<200)&&(content.appendChild(item.element),counter++)}}},obj.setData=function(data){if(resetValue(),content.innerHTML="",obj.header.value="",obj.items=[],data&&data.length){for(var i=0;i<data.length;i++)"object"!=typeof data[i]&&(obj.options.format?data[i]={id:data[i],name:data[i]}:data[i]={value:data[i],text:data[i]});obj.appendData(data),obj.options.data=data}else obj.options.data=[];obj.close()},obj.getData=function(){return obj.options.data},obj.getPosition=function(val){for(var i=0;i<obj.items.length;i++)if(Value(i)==val)return i;return!1},obj.getText=function(asArray){var v=getText();return asArray?v:v.join("; ")},obj.getValue=function(asArray){var v=getValue();return asArray?v:v.join(";")};var change=function(oldValue){el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value})),"function"==typeof obj.options.onchange&&obj.options.onchange(el,obj,oldValue,obj.options.value)};obj.setValue=function(newValue){var oldValue=obj.getValue();Array.isArray(newValue)&&(newValue=newValue.join(";")),oldValue!==newValue&&(applyValue(newValue),change(oldValue))},obj.resetSelected=function(){obj.setValue(null)},obj.selectIndex=function(index,force){var index=parseInt(index);if(obj.items&&obj.items[index]&&(!0===force||!0!==obj.items[index].data.disabled))if(obj.setCursor(index,!1),obj.options.multiple){var oldValue=obj.options.value;obj.items[index].selected?(obj.items[index].element.classList.remove("jdropdown-selected"),obj.items[index].selected=!1,delete obj.value[Value(index)]):(obj.items[index].element.classList.add("jdropdown-selected"),obj.items[index].selected=!0,obj.value[Value(index)]=Text(index)),obj.options.value=Object.keys(obj.value).join(";"),0==obj.options.autocomplete&&(obj.header.value=getText().join("; ")),change(oldValue)}else obj.items[index].selected?obj.setValue(null):obj.setValue(Value(index)),obj.close()},obj.selectItem=function(item){obj.selectIndex(item.indexValue)};var exists=function(k,result){for(var j=0;j<result.length;j++)if(obj.options.format){if(result[j].id==k)return!0}else if(result[j].value==k)return!0;return!1};return obj.find=function(str){if(obj.search==str.trim())return!1;if(obj.search=str,obj.setCursor(),obj.groups.length)for(var i=0;i<obj.groups.length;i++)obj.groups[i].lastChild.innerHTML="";if(content.innerHTML="",1==obj.options.remoteSearch){obj.results=null;var url=obj.options.url+(obj.options.url.indexOf("?")>0?"&":"?")+"q="+str;jSuites.ajax({url:url,method:"GET",dataType:"json",success:function(result){obj.items=[];var current=Object.keys(obj.value);if(current.length)for(var i=0;i<current.length;i++)exists(current[i],result)||(obj.options.format?result.unshift({id:current[i],name:obj.value[current[i]]}):result.unshift({value:current[i],text:obj.value[current[i]]}));obj.appendData(result),result.length?content.style.display="":content.style.display="none"}})}else{str=new RegExp(str,"gi");for(var results=[],i=0;i<obj.items.length;i++){var label=Text(i),title=obj.items[i].data.title||"",groupName=obj.items[i].data.group||"",synonym=obj.items[i].data.synonym||"";synonym&&(synonym=synonym.join(" ")),(null==str||1==obj.items[i].selected||label.match(str)||title.match(str)||groupName.match(str)||synonym.match(str))&&results.push(obj.items[i])}if(results.length){content.style.display="",obj.results=results;var number=results.length||0;1==obj.options.lazyLoading&&number>200&&(number=200);for(var i=0;i<number;i++)obj.results[i].group?(obj.results[i].group.parentNode||content.appendChild(obj.results[i].group),obj.results[i].group.lastChild.appendChild(obj.results[i].element)):content.appendChild(obj.results[i].element)}else content.style.display="none",obj.results=null}1==obj.options.autofocus&&obj.first()},obj.open=function(){if(!el.classList.contains("jdropdown-focus")){jSuites.dropdown.current=obj,jSuites.tracking(obj,!0),el.classList.add("jdropdown-focus"),jSuites.getWindowWidth()<800&&(null!=obj.options.type&&"picker"!=obj.options.type||jSuites.animation.slideBottom(container,1)),1==obj.options.autocomplete&&(obj.header.value=obj.search,obj.header.focus());var k=getValue();if(k[0]){var cursor=obj.getPosition(k[0]);!1!==cursor&&obj.setCursor(cursor)}if(!obj.options.type||"default"==obj.options.type){var rect=el.getBoundingClientRect(),rectContainer=container.getBoundingClientRect();obj.options.position?(container.style.position="fixed",window.innerHeight<rect.bottom+rectContainer.height?(container.style.top="",container.style.bottom=window.innerHeight-rect.top+1+"px"):(container.style.top=rect.bottom+"px",container.style.bottom=""),container.style.left=rect.left+"px"):window.innerHeight<rect.bottom+rectContainer.height?(container.style.top="",container.style.bottom=rect.height+1+"px"):(container.style.top="",container.style.bottom=""),container.style.minWidth=rect.width+"px",obj.options.maxWidth&&(container.style.maxWidth=obj.options.maxWidth),obj.items.length||1!=obj.options.autocomplete?content.style.display="":content.style.display="none"}}"function"==typeof obj.options.onopen&&obj.options.onopen(el)},obj.close=function(ignoreEvents){return el.classList.contains("jdropdown-focus")&&(obj.header.value=obj.getText(),obj.setCursor(),ignoreEvents||"function"!=typeof obj.options.onclose||obj.options.onclose(el),obj.header.blur&&obj.header.blur(),el.classList.remove("jdropdown-focus"),jSuites.tracking(obj,!1),jSuites.dropdown.current=null),obj.getValue()},obj.setCursor=function(index,setPosition){if(null!=obj.currentIndex&&obj.items&&obj.items[obj.currentIndex]&&obj.items[obj.currentIndex].element.classList.remove("jdropdown-cursor"),null==index)obj.currentIndex=null;else if(index=parseInt(index),obj.items[index].element.parentNode&&(obj.items[index].element.classList.add("jdropdown-cursor"),obj.currentIndex=index,!1!==setPosition&&obj.items[obj.currentIndex].element)){var container=content.scrollTop,element=obj.items[obj.currentIndex].element;content.scrollTop=element.offsetTop-element.scrollTop+element.clientTop-95}},obj.resetCursor=obj.setCursor,obj.updateCursor=obj.setCursor,obj.reset=function(){obj.setCursor(),obj.setValue(null)},obj.first=function(){!0===obj.options.lazyLoading&&obj.loadFirst();var items=content.querySelectorAll(".jdropdown-item");if(items.length){var newIndex=items[0].indexValue;obj.setCursor(newIndex)}},obj.last=function(){!0===obj.options.lazyLoading&&obj.loadLast();var items=content.querySelectorAll(".jdropdown-item");if(items.length){var newIndex=items[items.length-1].indexValue;obj.setCursor(newIndex)}},obj.next=function(letter){var newIndex=null;if(letter){if(1==letter.length){var current=obj.currentIndex||-1;letter=letter.toLowerCase();var e=null,l=null,items=content.querySelectorAll(".jdropdown-item");if(items.length){for(var i=0;i<items.length;i++)if(items[i].indexValue>current&&(e=obj.items[items[i].indexValue])&&(l=e.element.innerText[0])&&letter==(l=l.toLowerCase())){newIndex=items[i].indexValue;break}obj.setCursor(newIndex)}}}else if(null==obj.currentIndex||null==obj.currentIndex)obj.first();else{var element=obj.items[obj.currentIndex].element,next=element.nextElementSibling;next?(next.classList.contains("jdropdown-group")&&(next=next.lastChild.firstChild),newIndex=next.indexValue):element.parentNode.classList.contains("jdropdown-group-items")&&((next=element.parentNode.parentNode.nextElementSibling)&&(next.classList.contains("jdropdown-group")?next=next.lastChild.firstChild:next.classList.contains("jdropdown-item")?newIndex=next.indexValue:next=null),next&&(newIndex=next.indexValue)),null!==newIndex&&obj.setCursor(newIndex)}},obj.prev=function(){var newIndex=null;if(null===obj.currentIndex)obj.first();else{var element=obj.items[obj.currentIndex].element,prev=element.previousElementSibling;prev?(prev.classList.contains("jdropdown-group")&&(prev=prev.lastChild.lastChild),newIndex=prev.indexValue):element.parentNode.classList.contains("jdropdown-group-items")&&((prev=element.parentNode.parentNode.previousElementSibling)&&(prev.classList.contains("jdropdown-group")?prev=prev.lastChild.lastChild:prev.classList.contains("jdropdown-item")?newIndex=prev.indexValue:prev=null),prev&&(newIndex=prev.indexValue))}null!==newIndex&&obj.setCursor(newIndex)},obj.loadFirst=function(){if(obj.results)var results=obj.results;else var results=obj.items;var number=results.length||0;1==obj.options.lazyLoading&&number>200&&(number=200),content.innerHTML="";for(var i=0;i<number;i++)results[i].group?(results[i].group.parentNode||content.appendChild(results[i].group),results[i].group.lastChild.appendChild(results[i].element)):content.appendChild(results[i].element);content.scrollTop=0},obj.loadLast=function(){if(obj.results)var results=obj.results;else var results=obj.items;var number=results.length;if(number>200){number-=200,content.innerHTML="";for(var i=number;i<results.length;i++)results[i].group?(results[i].group.parentNode||content.appendChild(results[i].group),results[i].group.lastChild.appendChild(results[i].element)):content.appendChild(results[i].element);content.scrollTop=content.scrollHeight}},obj.loadUp=function(){var test=!1;if(obj.results)var results=obj.results;else var results=obj.items;var items,fistItem=content.querySelectorAll(".jdropdown-item")[0].indexValue;fistItem=obj.items[fistItem];var index=results.indexOf(fistItem)-1;if(index>0){for(var number=0;index>0&&results[index]&&number<200;)results[index].group?(results[index].group.parentNode||content.insertBefore(results[index].group,content.firstChild),results[index].group.lastChild.insertBefore(results[index].element,results[index].group.lastChild.firstChild)):content.insertBefore(results[index].element,content.firstChild),index--,number++;test=!0}return test},obj.loadDown=function(){var test=!1;if(obj.results)var results=obj.results;else var results=obj.items;var items=content.querySelectorAll(".jdropdown-item"),lastItem=items[items.length-1].indexValue;lastItem=obj.items[lastItem];var index=results.indexOf(lastItem)+1;if(index<results.length){for(var number=0;index<results.length&&results[index]&&number<200;)results[index].group?(results[index].group.parentNode||content.appendChild(results[index].group),results[index].group.lastChild.appendChild(results[index].element)):content.appendChild(results[index].element),index++,number++;test=!0}return test},init(),obj},jSuites.dropdown.keydown=function(e){var dropdown=null;if(dropdown=jSuites.dropdown.current)if(13==e.which||9==e.which)dropdown.header.value&&null==dropdown.currentIndex&&dropdown.options.newOptions?dropdown.add():(null==dropdown.currentIndex&&1==dropdown.options.autocomplete&&""!=dropdown.header.value&&dropdown.find(dropdown.header.value),dropdown.selectIndex(dropdown.currentIndex));else if(38==e.which)null==dropdown.currentIndex?dropdown.first():dropdown.currentIndex>0&&dropdown.prev(),e.preventDefault();else if(40==e.which)null==dropdown.currentIndex?dropdown.first():dropdown.currentIndex+1<dropdown.items.length&&dropdown.next(),e.preventDefault();else if(36==e.which)dropdown.first(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(35==e.which)dropdown.last(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(27==e.which)dropdown.close();else if(33==e.which){if(null==dropdown.currentIndex)dropdown.first();else if(dropdown.currentIndex>0)for(var i=0;i<7;i++)dropdown.prev();e.preventDefault()}else if(34==e.which){if(null==dropdown.currentIndex)dropdown.first();else if(dropdown.currentIndex+1<dropdown.items.length)for(var i=0;i<7;i++)dropdown.next();e.preventDefault()}},jSuites.dropdown.mouseup=function(e){var element=jSuites.findElement(e.target,"jdropdown");if(element){var dropdown=element.dropdown;if(e.target.classList.contains("jdropdown-header"))if(element.classList.contains("jdropdown-focus")&&element.classList.contains("jdropdown-default")){var rect=element.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;rect.width-(x-rect.left)<30?e.target.classList.contains("jdropdown-add")?dropdown.add():dropdown.close():0==dropdown.options.autocomplete&&dropdown.close()}else dropdown.open();else if(e.target.classList.contains("jdropdown-group-name")){var items=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var i=0;i<items.length;i++)"none"!=items[i].style.display&&dropdown.selectItem(items[i])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?dropdown.selectItem(e.target):e.target.classList.contains("jdropdown-image")?dropdown.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-description")?dropdown.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-title")?dropdown.selectItem(e.target.parentNode.parentNode):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&dropdown.close()}},jSuites.dropdown.extractFromDom=function(el,options){var select=el;if(options||(options={}),!el.getAttribute("multiple")||options&&null!=options.multiple||(options.multiple=!0),!el.getAttribute("placeholder")||options&&null!=options.placeholder||(options.placeholder=el.getAttribute("placeholder")),!el.getAttribute("data-autocomplete")||options&&null!=options.autocomplete||(options.autocomplete=!0),options&&null!=options.width||(options.width=el.offsetWidth),!el.value||options&&null!=options.value||(options.value=el.value),!options||null==options.data){options.data=[];for(var j=0;j<el.children.length;j++)if("OPTGROUP"==el.children[j].tagName)for(var i=0;i<el.children[j].children.length;i++)options.data.push({value:el.children[j].children[i].value,text:el.children[j].children[i].innerHTML,group:el.children[j].getAttribute("label")});else options.data.push({value:el.children[j].value,text:el.children[j].innerHTML})}options&&null!=options.onchange||(options.onchange=function(a,b,c,d){1==options.multiple?obj.items[b].classList.contains("jdropdown-selected")?select.options[b].setAttribute("selected","selected"):select.options[b].removeAttribute("selected"):select.value=d});var div=document.createElement("div");return el.parentNode.insertBefore(div,el),el.style.display="none",{el:el=div,options:options}},jSuites.editor=function(el,options){var obj={type:"editor",options:{}},defaults={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsSnippet:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null,userSearch:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];var imageResize=0,editorTimer=null,editorAction=null,files=[];el.innerHTML="",obj.el=el,"function"==typeof obj.options.onclick&&(el.onclick=function(e){obj.options.onclick(el,obj,e)}),el.classList.add("jeditor-container"),1==obj.options.padding&&el.classList.add("jeditor-padding"),0==obj.options.border&&(el.style.border="0px");var snippet=document.createElement("div");snippet.className="jsnippet",snippet.setAttribute("contenteditable",!1);var toolbar=document.createElement("div");toolbar.className="jeditor-toolbar";var editor=document.createElement("div");if(editor.setAttribute("contenteditable",!0),editor.setAttribute("spellcheck",!1),editor.className="jeditor",obj.options.placeholder&&editor.setAttribute("data-placeholder",obj.options.placeholder),(obj.options.maxHeight||obj.options.height)&&(editor.style.overflowY="auto",obj.options.maxHeight&&(editor.style.maxHeight=obj.options.maxHeight),obj.options.height&&(editor.style.height=obj.options.height)),obj.options.value)var value=obj.options.value;else var value=el.innerHTML?el.innerHTML:"";if(!value)var value="";var change=function(e){"function"==typeof obj.options.onchange&&obj.options.onchange(el,obj,e),obj.options.value=obj.getData(),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))},createUserSearchNode=function(){var sel,range=(window.getSelection?window.getSelection():document.selection).getRangeAt(0);range.deleteContents();var input=document.createElement("a");input.innerText="@",input.searchable=!0,range.insertNode(input);var node=range.getBoundingClientRect();range.collapse(!1),userSearch.style.position="fixed",userSearch.style.top=node.top+node.height+10+"px",userSearch.style.left=node.left+2+"px"},extractImageFromHtml=function(html){var div=document.createElement("div");div.innerHTML=html;var img=div.querySelectorAll("img");if(img.length)for(var i=0;i<img.length;i++)obj.addImage(img[i].src)},insertNodeAtCaret=function(newNode){var sel,range;if(window.getSelection&&(sel=window.getSelection()).rangeCount){var selectedText=(range=sel.getRangeAt(0)).toString();range.deleteContents(),range.insertNode(newNode),range.setStartAfter(newNode),range.setEndAfter(newNode),sel.removeAllRanges(),sel.addRange(range)}},updateTotalImages=function(){var o=null;if(o=snippet.children[0]){o.classList.contains("jslider-grid")||o.classList.add("jslider-grid");var number=o.children.length;o.setAttribute("data-number",number>4?4:number),number>4?o.setAttribute("data-total",number-4):o.removeAttribute("data-total")}},appendImage=function(image){snippet.innerHTML||appendElement({}),snippet.children[0].appendChild(image),updateTotalImages()},appendElement=function(data){snippet.innerHTML="";for(var a=["image","title","description","host","url"],i=0;i<a.length;i++){var div=document.createElement("div");if(div.className="jsnippet-"+a[i],div.setAttribute("data-k",a[i]),snippet.appendChild(div),data[a[i]])if("image"==a[i]){Array.isArray(data.image)||(data.image=[data.image]);for(var j=0;j<data.image.length;j++){var img=document.createElement("img");img.src=data.image[j],div.appendChild(img)}}else div.innerHTML=data[a[i]]}editor.appendChild(document.createElement("br")),editor.appendChild(snippet)},verifyEditor=function(){clearTimeout(editorTimer),editorTimer=setTimeout((function(){var snippet;if(!editor.querySelector(".jsnippet")){var html=editor.innerHTML.replace(/\n/g," "),container=document.createElement("div");container.innerHTML=html;var text=container.innerText,url=jSuites.editor.detectUrl(text);if(url)if("jpg"==url[0].substr(-3)||"png"==url[0].substr(-3)||"gif"==url[0].substr(-3))obj.addImage(url[0],!0);else{var id=jSuites.editor.youtubeParser(url[0]);obj.parseWebsite(url[0],id)}}}),1e3)};obj.parseContent=function(){verifyEditor()},obj.parseWebsite=function(url,youtubeId){if(obj.options.remoteParser){if(youtubeId)var url="https://www.youtube.com/watch?v="+youtubeId;var p={title:"",description:"",image:"",host:url.split("/")[2],url:url};jSuites.ajax({url:obj.options.remoteParser+encodeURI(url.trim()),method:"GET",dataType:"json",success:function(result){result.title&&(p.title=result.title),result.description&&(p.description=result.description),result.host&&(p.host=result.host),result.url&&(p.url=result.url),appendElement(p),result.image?obj.addImage(result.image,!0):result["og:image"]&&obj.addImage(result["og:image"],!0)}})}else console.log("The remoteParser is not defined")},obj.setData=function(o){editor.innerHTML="object"==typeof o?o.content:o,obj.options.focus&&jSuites.editor.setCursor(editor,!0),files=[]},obj.getFiles=function(){for(var f=editor.querySelectorAll(".jfile"),d=[],i=0;i<f.length;i++)files[f[i].src]&&d.push(files[f[i].src]);return d},obj.getText=function(){return editor.innerText},obj.getData=function(json){if(json){var data={content:""};if(snippet.innerHTML){var index=0;data.snippet={};for(var i=0;i<snippet.children.length;i++){var key=snippet.children[i].getAttribute("data-k");if(key)if("image"==key){data.snippet.image||(data.snippet.image=[]);for(var j=0;j<snippet.children[i].children.length;j++)data.snippet.image.push(snippet.children[i].children[j].getAttribute("src"))}else data.snippet[key]=snippet.children[i].innerHTML}}var f=Object.keys(files);if(f.length){data.files=[];for(var i=0;i<f.length;i++)data.files.push(files[f[i]])}if(userSearch){var tagged=editor.querySelectorAll("a[data-user]");if(tagged.length){data.users=[];for(var i=0;i<tagged.length;i++){var userId=tagged[i].getAttribute("data-user");userId&&data.users.push(userId)}data.users=data.users.join(",")}}var d=document.createElement("div");d.innerHTML=editor.innerHTML;var s=d.querySelector(".jsnippet");s&&s.remove();var text=d.innerHTML;text=(text=(text=text.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),data.content=text.trim()}else var data=editor.innerHTML;return data},obj.reset=function(){editor.innerHTML="",snippet.innerHTML="",files=[]},obj.addPdf=function(data){if("data"!=data.result.substr(0,4))console.error("Invalid source");else{var canvas=document.createElement("canvas");canvas.width=60,canvas.height=60;var img=new Image,ctx;canvas.getContext("2d").drawImage(img,0,0,canvas.width,canvas.height),canvas.toBlob((function(blob){var newImage=document.createElement("img");newImage.src=window.URL.createObjectURL(blob),newImage.title=data.name,newImage.className="jfile pdf",files[newImage.src]={file:newImage.src,extension:"pdf",content:data.result},insertNodeAtCaret(newImage)}))}},obj.addImage=function(src,asSnippet){if(src||(src=""),"data"==src.substr(0,4)||obj.options.remoteParser){if("data"==src.substr(0,4)){var extension;extension=(extension=(extension=src.split(";"))[0].split("/"))[1]}else{var extension=src.substr(src.lastIndexOf(".")+1);src=obj.options.remoteParser+src}var img=new Image;img.onload=function onload(){var canvas=document.createElement("canvas"),ctx;canvas.width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0,canvas.width,canvas.height),canvas.toBlob((function(blob){var newImage=document.createElement("img");newImage.src=window.URL.createObjectURL(blob),newImage.classList.add("jfile"),newImage.setAttribute("tabindex","900"),files[newImage.src]={file:newImage.src,extension:extension,content:canvas.toDataURL()},obj.options.dropAsSnippet||asSnippet?(appendImage(newImage),files[newImage.src].snippet=!0):insertNodeAtCaret(newImage),change()}))},img.src=src}else console.error("remoteParser not defined in your initialization")},obj.addFile=function(files){for(var reader=[],i=0;i<files.length;i++)if(files[i].size>obj.options.maxFileSize)alert("The file is too big");else{var type=files[i].type.split("/");(type="image"==type[0]?1:"pdf"==type[1]?2:0)?(reader[i]=new FileReader,reader[i].index=i,reader[i].type=type,reader[i].name=files[i].name,reader[i].date=files[i].lastModified,reader[i].size=files[i].size,reader[i].addEventListener("load",(function(data){2==data.target.type?1==obj.options.acceptFiles&&obj.addPdf(data.target):obj.addImage(data.target.result)}),!1),reader[i].readAsDataURL(files[i])):alert("The extension is not allowed")}},obj.destroy=function(){editor.removeEventListener("mouseup",editorMouseUp),editor.removeEventListener("mousedown",editorMouseDown),editor.removeEventListener("mousemove",editorMouseMove),editor.removeEventListener("keyup",editorKeyUp),editor.removeEventListener("keydown",editorKeyDown),editor.removeEventListener("dragstart",editorDragStart),editor.removeEventListener("dragenter",editorDragEnter),editor.removeEventListener("dragover",editorDragOver),editor.removeEventListener("drop",editorDrop),editor.removeEventListener("paste",editorPaste),editor.removeEventListener("blur",editorBlur),editor.removeEventListener("focus",editorFocus),el.editor=null,el.classList.remove("jeditor-container"),toolbar.remove(),snippet.remove(),editor.remove()},obj.upload=function(){jSuites.click(obj.file)};var isLetter=function(str){var regex=/([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]+)/g;return str.match(regex)?1:0},editorMouseUp=function(e){editorAction&&editorAction.e&&editorAction.e.classList.remove("resizing"),editorAction=!1},editorMouseDown=function(e){var close=function(snippet){var rect=snippet.getBoundingClientRect();rect.width-(e.clientX-rect.left)<40&&e.clientY-rect.top<40&&(snippet.innerHTML="",snippet.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var rect=e.target.getBoundingClientRect();editorAction={e:e.target,x:e.clientX,y:e.clientY,w:rect.width,h:rect.height,d:e.target.style.cursor},e.target.width||(e.target.width=rect.width+"px"),e.target.height||(e.target.height=rect.height+"px");var s=window.getSelection();if(s.rangeCount)for(var i=0;i<s.rangeCount;i++)s.removeRange(s.getRangeAt(i));e.target.classList.add("resizing")}else editorAction=!0;else e.target.classList.contains("jsnippet")?close(e.target):e.target.parentNode.classList.contains("jsnippet")&&close(e.target.parentNode),editorAction=!0},editorMouseMove=function(e){if("IMG"==e.target.tagName&&!e.target.parentNode.classList.contains("jsnippet-image")&&1==obj.options.allowImageResize&&e.target.getAttribute("tabindex")){var rect=e.target.getBoundingClientRect();e.clientY-rect.top<5?rect.width-(e.clientX-rect.left)<5?e.target.style.cursor="ne-resize":e.clientX-rect.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":rect.height-(e.clientY-rect.top)<5?rect.width-(e.clientX-rect.left)<5?e.target.style.cursor="se-resize":e.clientX-rect.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":rect.width-(e.clientX-rect.left)<5?e.target.style.cursor="e-resize":e.clientX-rect.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&editorAction&&editorAction.d){if("e-resize"==editorAction.d||"ne-resize"==editorAction.d||"se-resize"==editorAction.d)if(editorAction.e.width=editorAction.w+(e.clientX-editorAction.x),e.shiftKey){var newHeight=(e.clientX-editorAction.x)*(editorAction.h/editorAction.w);editorAction.e.height=editorAction.h+newHeight}else var newHeight=null;newHeight||"s-resize"!=editorAction.d&&"se-resize"!=editorAction.d&&"sw-resize"!=editorAction.d||e.shiftKey||(editorAction.e.height=editorAction.h+(e.clientY-editorAction.y))}},editorKeyUp=function(e){if(editor.innerHTML||(editor.innerHTML="<div><br></div>"),userSearch){var t=jSuites.getNode();t&&(!0===t.searchable?t.innerText&&"@"==t.innerText.substr(0,1)&&userSearchInstance(t.innerText.substr(1)):!1===t.searchable&&t.innerText!==t.getAttribute("data-label")&&(t.searchable=!0,t.removeAttribute("href")))}"function"==typeof obj.options.onkeyup&&obj.options.onkeyup(el,obj,e)},editorKeyDown=function(e){1==obj.options.parseURL&&verifyEditor(),userSearch&&("@"==e.key?(createUserSearchNode(editor),e.preventDefault()):userSearchInstance.isOpened()&&userSearchInstance.keydown(e)),"function"==typeof obj.options.onkeydown&&obj.options.onkeydown(el,obj,e),"Delete"==e.key&&"IMG"==e.target.tagName&&e.target.parentNode.classList.contains("jsnippet-image")&&(e.target.remove(),updateTotalImages())},remove=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],validProperty=["width","height","align","border","src","tabindex"],validStyle=["color","font-weight","font-size","background","background-color","margin"],parse=function(element){if(element.attributes&&element.attributes.length){var image=null,style=null,elementStyle=element.getAttribute("style");if(elementStyle){style=[];for(var t=elementStyle.split(";"),j=0;j<t.length;j++){var v=t[j].trim().split(":");if(validStyle.indexOf(v[0].trim())>=0){var k=v.shift(),v=v.join(":");style.push(k+":"+v)}}}"IMG"==element.tagName.toUpperCase()&&(obj.options.acceptImages&&element.src?(element.setAttribute("tabindex","900"),obj.addImage(element.src)):element.parentNode.removeChild(element));var attr=[],numAttributes=element.attributes.length-1;if(numAttributes>0){for(var i=numAttributes;i>=0;i--)attr.push(element.attributes[i].name);attr.forEach((function(v){-1==validProperty.indexOf(v)&&element.removeAttribute(v)}))}element.style="",style&&style.length&&element.setAttribute("style",style.join(";"))}if(element.children.length)for(var i=0;i<element.children.length;i++)parse(element.children[i]);remove.indexOf(element.constructor)>=0&&element.remove()},filter=function(data){data&&(data=data.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var parser,d=(new DOMParser).parseFromString(data,"text/html");parse(d);var span=document.createElement("span");return span.innerHTML=d.firstChild.innerHTML,span},editorPaste=function(e){if(1==obj.options.filterPaste){if(e.clipboardData||e.originalEvent.clipboardData)var html=(e.originalEvent||e).clipboardData.getData("text/html"),text=(e.originalEvent||e).clipboardData.getData("text/plain"),file=(e.originalEvent||e).clipboardData.files;else if(window.clipboardData)var html=window.clipboardData.getData("Html"),text=window.clipboardData.getData("Text"),file=window.clipboardData.files;if(file.length)obj.addFile(file);else if(html){var d=filter(html);document.execCommand("insertHtml",!1,d.innerHTML)}else html=text.split("\r\n"),e.target.innerText?(html=html.map((function(v){return"<div>"+v+"</div>"})),document.execCommand("insertHtml",!1,html.join(""))):html.map((function(v){var d=document.createElement("div");d.innerText=v,editor.appendChild(d)}));e.preventDefault()}},editorDragStart=function(e){editorAction&&editorAction.e&&e.preventDefault()},editorDragEnter=function(e){editorAction||0==obj.options.dropZone||(el.classList.add("jeditor-dragging"),e.preventDefault())},editorDragOver=function(e){editorAction||0==obj.options.dropZone||(editorTimer&&clearTimeout(editorTimer),editorTimer=setTimeout((function(){el.classList.remove("jeditor-dragging")}),100),e.preventDefault())},editorDrop=function(e){if(editorAction||0==obj.options.dropZone);else{var range=null;document.caretRangeFromPoint?range=document.caretRangeFromPoint(e.clientX,e.clientY):e.rangeParent&&(range=document.createRange()).setStart(e.rangeParent,e.rangeOffset);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range),sel.anchorNode.parentNode.focus();var html=(e.originalEvent||e).dataTransfer.getData("text/html"),text=(e.originalEvent||e).dataTransfer.getData("text/plain"),file=(e.originalEvent||e).dataTransfer.files;file.length?obj.addFile(file):text&&extractImageFromHtml(html),el.classList.remove("jeditor-dragging"),e.preventDefault()}},editorBlur=function(e){userSearch&&userSearchInstance.isOpened()&&userSearchInstance.close(),"function"==typeof obj.options.onblur&&obj.options.onblur(el,obj,e),change(e)},editorFocus=function(e){"function"==typeof obj.options.onfocus&&obj.options.onfocus(el,obj,e)};editor.addEventListener("mouseup",editorMouseUp),editor.addEventListener("mousedown",editorMouseDown),editor.addEventListener("mousemove",editorMouseMove),editor.addEventListener("keyup",editorKeyUp),editor.addEventListener("keydown",editorKeyDown),editor.addEventListener("dragstart",editorDragStart),editor.addEventListener("dragenter",editorDragEnter),editor.addEventListener("dragover",editorDragOver),editor.addEventListener("drop",editorDrop),editor.addEventListener("paste",editorPaste),editor.addEventListener("focus",editorFocus),editor.addEventListener("blur",editorBlur),"function"==typeof obj.options.onload&&obj.options.onload(el,obj,editor),editor.innerHTML=value,el.appendChild(editor),obj.options.snippet&&appendElement(obj.options.snippet),null==obj.options.toolbar&&(obj.options.toolbar=jSuites.editor.getDefaultToolbar()),obj.options.toolbar&&(el.appendChild(toolbar),jSuites.toolbar(toolbar,{container:!0,responsive:!0,items:obj.options.toolbar}));var userSearch=null,userSearchInstance=null;return obj.options.userSearch&&(userSearch=document.createElement("div"),el.appendChild(userSearch),userSearchInstance=jSuites.search(userSearch,{data:obj.options.userSearch,placeholder:jSuites.translate("Type the name a user"),onselect:function(a,b,c,d){if(userSearchInstance.isOpened()){var t=jSuites.getNode();t&&1==t.searchable&&t.innerText.trim()&&t.innerText.substr(1)&&(t.innerText="@"+c,t.href="/"+c,t.setAttribute("data-user",d),t.setAttribute("data-label",t.innerText),t.searchable=!1,jSuites.focus(t))}}})),obj.file=document.createElement("input"),obj.file.style.display="none",obj.file.type="file",obj.file.setAttribute("accept","image"),obj.file.onchange=function(){obj.addFile(this.files)},el.appendChild(obj.file),obj.options.focus&&jSuites.editor.setCursor(editor,"initial"==obj.options.focus),el.change=obj.setData,el.val=function(val){if(void 0===val){var o="true"!==el.getAttribute("data-html");return obj.getData(o)}obj.setData(val)},el.editor=obj,obj},jSuites.editor.setCursor=function(element,first){element.focus(),document.execCommand("selectAll");var sel=window.getSelection(),range=sel.getRangeAt(0);if(1==first)var node=range.startContainer,size=0;else var node,size=(node=range.endContainer).length;range.setStart(node,size),range.setEnd(node,size),sel.removeAllRanges(),sel.addRange(range)},jSuites.editor.getDomain=function(url){return url.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]},jSuites.editor.detectUrl=function(text){var expression=/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi,links=text.match(expression);return links&&"www"==links[0].substr(0,3)&&(links[0]="http://"+links[0]),links},jSuites.editor.youtubeParser=function(url){var regExp=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,match=url.match(regExp);return!(!match||11!=match[7].length)&&match[7]},jSuites.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(a,b,c){document.execCommand("bold"),document.queryCommandState("bold")?c.classList.add("selected"):c.classList.remove("selected")}},{content:"format_italic",onclick:function(a,b,c){document.execCommand("italic"),document.queryCommandState("italic")?c.classList.add("selected"):c.classList.remove("selected")}},{content:"format_underline",onclick:function(a,b,c){document.execCommand("underline"),document.queryCommandState("underline")?c.classList.add("selected"):c.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(a,b,c){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?c.classList.add("selected"):c.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(a,b,c){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?c.classList.add("selected"):c.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(a,b,c){document.execCommand("indent",!0,null),document.queryCommandState("indent")?c.classList.add("selected"):c.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]},jSuites.form=function(el,options){var obj={options:{}},defaults={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(el,message){jSuites.alert(message)}};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];obj.options.validations||(obj.options.validations={}),obj.options.submitButton||(obj.options.submitButton=el.querySelector("input[type=submit]")),obj.options.submitButton&&obj.options.url&&(obj.options.submitButton.onclick=function(){obj.save()}),obj.options.validations.email||(obj.options.validations.email=jSuites.validations.email),obj.options.validations.length||(obj.options.validations.length=jSuites.validations.length),obj.options.validations.required||(obj.options.validations.required=jSuites.validations.required),obj.setUrl=function(url){obj.options.url=url},obj.load=function(){jSuites.ajax({url:obj.options.url,method:"GET",dataType:"json",queue:!0,success:function(data){if("function"==typeof obj.options.onbeforeload){var ret=obj.options.onbeforeload(el,data);ret&&(data=ret)}jSuites.form.setElements(el,data),"function"==typeof obj.options.onload&&obj.options.onload(el,data)}})},obj.save=function(){var test=obj.validate();if(test)obj.options.onerror(el,test);else{var data=jSuites.form.getElements(el,!0),data;if("function"==typeof obj.options.onbeforesave)if(!1===(data=obj.options.onbeforesave(el,data)))return;jSuites.ajax({url:obj.options.url,method:"POST",dataType:"json",data:data,success:function(result){"function"==typeof obj.options.onsave&&obj.options.onsave(el,data,result)}})}},obj.remove=function(){var ret;if("function"==typeof obj.options.onbeforeremove&&!1===obj.options.onbeforeremove(el,obj))return!1;jSuites.ajax({url:obj.options.url,method:"DELETE",dataType:"json",success:function(result){"function"==typeof obj.options.onremove&&obj.options.onremove(el,obj,result),obj.reset()}})};var addError=function(element){element.classList.add("error"),obj.options.submitButton&&obj.options.submitButton.setAttribute("disabled",!0);var error=element.getAttribute("data-error")||"There is an error in the form";return element.setAttribute("title",error),error},delError=function(element){var error=!1;element.classList.remove("error"),element.removeAttribute("title");for(var elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)elements[i].getAttribute("data-validation")&&elements[i].classList.contains("error")&&(error=!0);obj.options.submitButton&&(error?obj.options.submitButton.setAttribute("disabled",!0):obj.options.submitButton.removeAttribute("disabled"))};return obj.validateElement=function(element){var test=!1,value=jSuites.form.getValue(element),validation=element.getAttribute("data-validation");return"function"!=typeof obj.options.validations[validation]||obj.options.validations[validation](value,element)?element.classList.contains("error")&&delError(element):test=addError(element),test},obj.reset=function(){for(var name=null,elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)(name=elements[i].getAttribute("name"))&&("checkbox"==elements[i].type||"radio"==elements[i].type?elements[i].checked=!1:"function"==typeof elements[i].val?elements[i].val(""):elements[i].value="")},obj.validate=function(){for(var test=[],elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)if(elements[i].getAttribute("data-validation")){var res=obj.validateElement(elements[i]);res&&test.push(res)}return test.length>0&&test.join("<br>")},obj.getError=function(){return!!obj.validation()},obj.setHash=function(){return obj.getHash(jSuites.form.getElements(el))},obj.getHash=function(str){var hash=0,i,chr;if(0===str.length)return hash;for(i=0;i<str.length;i++)hash=(hash<<5)-hash+(chr=str.charCodeAt(i)),hash|=0;return hash},obj.isChanged=function(){var hash=obj.setHash();return obj.options.currentHash!=hash},obj.resetTracker=function(){obj.options.currentHash=obj.setHash(),obj.options.ignore=!1},obj.setIgnore=function(ignoreFlag){obj.options.ignore=!!ignoreFlag},setTimeout((function(){obj.options.currentHash=obj.setHash()}),1e3),el.addEventListener("keyup",(function(e){e.target.getAttribute("data-validation")&&obj.validateElement(e.target)})),jSuites.form.hasEvents||(window.addEventListener("beforeunload",(function(e){if(obj.isChanged()&&0==obj.options.ignore){var confirmationMessage=obj.options.message?obj.options.message:"o/";return confirmationMessage?(void 0===e&&(e=window.event),e&&(e.returnValue=confirmationMessage),confirmationMessage):void 0}})),jSuites.form.hasEvents=!0),el.form=obj,obj},jSuites.form.getValue=function(element){var value=null;if("checkbox"==element.type)1==element.checked&&(value=element.value||!0);else if("radio"==element.type)1==element.checked&&(value=element.value);else if("file"==element.type)value=element.files;else if("select"==element.tagName&&1==element.multiple){value=[];for(var options=element.querySelectorAll("options[selected]"),j=0;j<options.length;j++)value.push(options[j].value)}else value="function"==typeof element.val?element.val():element.value||"";return value},jSuites.form.getElements=function(el,asArray){for(var data={},name=null,elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)(name=elements[i].getAttribute("name"))&&(data[name]=jSuites.form.getValue(elements[i])||"");return 1==asArray?data:JSON.stringify(data)},jSuites.form.setElements=function(el,data){for(var name=null,value=null,elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++){var type=elements[i].getAttribute("type");if(name=elements[i].getAttribute("name")){if(value=null,(name=name.replace(new RegExp(/\[(.*?)\]/gi),".$1")).match(/\./)){var tmp=jSuites.path.call(data,name)||"";void 0!==tmp&&(value=tmp)}else void 0!==data[name]&&(value=data[name]);null!==value&&("checkbox"==type||"radio"==type?elements[i].checked=!!value:"file"==type||("function"==typeof elements[i].val?elements[i].val(value):elements[i].value=value))}}},jSuites.tracker=jSuites.form,jSuites.focus=function(el){if(el.innerText.length){var range=document.createRange(),sel=window.getSelection(),node=el.childNodes[el.childNodes.length-1];range.setStart(node,node.length),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range),el.scrollLeft=el.scrollWidth}},jSuites.isNumeric=function(num){return"string"==typeof num&&(num=num.trim()),!isNaN(num)&&null!==num&&""!==num},jSuites.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0,v;return("x"==c?r:3&r|8).toString(16)}))},jSuites.getNode=function(){var node=document.getSelection().anchorNode;return node?3==node.nodeType?node.parentNode:node:null},jSuites.hash=function(str){var hash=0,i,chr;if(0===str.length)return hash;for(i=0;i<str.length;i++)(chr=str.charCodeAt(i))>32&&(hash=(hash<<5)-hash+chr,hash|=0);return hash},jSuites.randomColor=function(h){var lum=-.25,hex=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");hex.length<6&&(hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]);var rgb=[],c,i;for(i=0;i<3;i++)c=parseInt(hex.substr(2*i,2),16),c=Math.round(Math.min(Math.max(0,c+c*lum),255)).toString(16),rgb.push(("00"+c).substr(c.length));return 1==h?"#"+jSuites.two(rgb[0].toString(16))+jSuites.two(rgb[1].toString(16))+jSuites.two(rgb[2].toString(16)):rgb},jSuites.getWindowWidth=function(){var w=window,d=document,e=d.documentElement,g=d.getElementsByTagName("body")[0],x;return w.innerWidth||e.clientWidth||g.clientWidth},jSuites.getWindowHeight=function(){var w=window,d=document,e=d.documentElement,g=d.getElementsByTagName("body")[0],y;return w.innerHeight||e.clientHeight||g.clientHeight},jSuites.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].pageX,y=e.changedTouches[0].pageY;else var x=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),y=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[x,y]},jSuites.click=function(el){if(el.click)el.click();else{var evt=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});el.dispatchEvent(evt)}},jSuites.findElement=function(element,condition){var foundElement=!1;function path(element){element&&!foundElement&&("function"==typeof condition?foundElement=condition(element):"string"==typeof condition&&element.classList&&element.classList.contains(condition)&&(foundElement=element)),element.parentNode&&!foundElement&&path(element.parentNode)}return path(element),foundElement},jSuites.two=function(value){return 1==(value=""+value).length&&(value="0"+value),value},jSuites.sha512=function(str){function int64(msint_32,lsint_32){this.highOrder=msint_32,this.lowOrder=lsint_32}var H=[new int64(1779033703,4089235720),new int64(3144134277,2227873595),new int64(1013904242,4271175723),new int64(2773480762,1595750129),new int64(1359893119,2917565137),new int64(2600822924,725511199),new int64(528734635,4215389547),new int64(1541459225,327033209)],K=[new int64(1116352408,3609767458),new int64(1899447441,602891725),new int64(3049323471,3964484399),new int64(3921009573,2173295548),new int64(961987163,4081628472),new int64(1508970993,3053834265),new int64(2453635748,2937671579),new int64(2870763221,3664609560),new int64(3624381080,2734883394),new int64(310598401,1164996542),new int64(607225278,1323610764),new int64(1426881987,3590304994),new int64(1925078388,4068182383),new int64(2162078206,991336113),new int64(2614888103,633803317),new int64(3248222580,3479774868),new int64(3835390401,2666613458),new int64(4022224774,944711139),new int64(264347078,2341262773),new int64(604807628,2007800933),new int64(770255983,1495990901),new int64(1249150122,1856431235),new int64(1555081692,3175218132),new int64(1996064986,2198950837),new int64(2554220882,3999719339),new int64(2821834349,766784016),new int64(2952996808,2566594879),new int64(3210313671,3203337956),new int64(3336571891,1034457026),new int64(3584528711,2466948901),new int64(113926993,3758326383),new int64(338241895,168717936),new int64(666307205,1188179964),new int64(773529912,1546045734),new int64(1294757372,1522805485),new int64(1396182291,2643833823),new int64(1695183700,2343527390),new int64(1986661051,1014477480),new int64(2177026350,1206759142),new int64(2456956037,344077627),new int64(2730485921,1290863460),new int64(2820302411,3158454273),new int64(3259730800,3505952657),new int64(3345764771,106217008),new int64(3516065817,3606008344),new int64(3600352804,1432725776),new int64(4094571909,1467031594),new int64(275423344,851169720),new int64(430227734,3100823752),new int64(506948616,1363258195),new int64(659060556,3750685593),new int64(883997877,3785050280),new int64(958139571,3318307427),new int64(1322822218,3812723403),new int64(1537002063,2003034995),new int64(1747873779,3602036899),new int64(1955562222,1575990012),new int64(2024104815,1125592928),new int64(2227730452,2716904306),new int64(2361852424,442776044),new int64(2428436474,593698344),new int64(2756734187,3733110249),new int64(3204031479,2999351573),new int64(3329325298,3815920427),new int64(3391569614,3928383900),new int64(3515267271,566280711),new int64(3940187606,3454069534),new int64(4118630271,4000239992),new int64(116418474,1914138554),new int64(174292421,2731055270),new int64(289380356,3203993006),new int64(460393269,320620315),new int64(685471733,587496836),new int64(852142971,1086792851),new int64(1017036298,365543100),new int64(1126000580,2618297676),new int64(1288033470,3409855158),new int64(1501505948,4234509866),new int64(1607167915,987167468),new int64(1816402316,1246189591)],W=new Array(64),a,b,c,d,e,f,g,h,i,j,T1,T2,charsize=8;function utf8_encode(str){return unescape(encodeURIComponent(str))}function str2binb(str){for(var bin=[],mask=255,len=8*str.length,i=0;i<len;i+=8)bin[i>>5]|=(255&str.charCodeAt(i/8))<<24-i%32;return bin}function binb2hex(binarray){for(var hex_tab="0123456789abcdef",str="",length=4*binarray.length,srcByte,i=0;i<length;i+=1)srcByte=binarray[i>>2]>>8*(3-i%4),str+=hex_tab.charAt(srcByte>>4&15)+hex_tab.charAt(15&srcByte);return str}function safe_add_2(x,y){var lsw,msw,lowOrder,highOrder;return lsw=(65535&x.lowOrder)+(65535&y.lowOrder),lowOrder=(65535&(msw=(x.lowOrder>>>16)+(y.lowOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lsw=(65535&x.highOrder)+(65535&y.highOrder)+(msw>>>16),new int64(highOrder=(65535&(msw=(x.highOrder>>>16)+(y.highOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lowOrder)}function safe_add_4(a,b,c,d){var lsw,msw,lowOrder,highOrder;return lsw=(65535&a.lowOrder)+(65535&b.lowOrder)+(65535&c.lowOrder)+(65535&d.lowOrder),lowOrder=(65535&(msw=(a.lowOrder>>>16)+(b.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lsw=(65535&a.highOrder)+(65535&b.highOrder)+(65535&c.highOrder)+(65535&d.highOrder)+(msw>>>16),new int64(highOrder=(65535&(msw=(a.highOrder>>>16)+(b.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lowOrder)}function safe_add_5(a,b,c,d,e){var lsw,msw,lowOrder,highOrder;return lsw=(65535&a.lowOrder)+(65535&b.lowOrder)+(65535&c.lowOrder)+(65535&d.lowOrder)+(65535&e.lowOrder),lowOrder=(65535&(msw=(a.lowOrder>>>16)+(b.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(e.lowOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lsw=(65535&a.highOrder)+(65535&b.highOrder)+(65535&c.highOrder)+(65535&d.highOrder)+(65535&e.highOrder)+(msw>>>16),new int64(highOrder=(65535&(msw=(a.highOrder>>>16)+(b.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(e.highOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lowOrder)}function maj(x,y,z){return new int64(x.highOrder&y.highOrder^x.highOrder&z.highOrder^y.highOrder&z.highOrder,x.lowOrder&y.lowOrder^x.lowOrder&z.lowOrder^y.lowOrder&z.lowOrder)}function ch(x,y,z){return new int64(x.highOrder&y.highOrder^~x.highOrder&z.highOrder,x.lowOrder&y.lowOrder^~x.lowOrder&z.lowOrder)}function rotr(x,n){return n<=32?new int64(x.highOrder>>>n|x.lowOrder<<32-n,x.lowOrder>>>n|x.highOrder<<32-n):new int64(x.lowOrder>>>n|x.highOrder<<32-n,x.highOrder>>>n|x.lowOrder<<32-n)}function sigma0(x){var rotr28=rotr(x,28),rotr34=rotr(x,34),rotr39=rotr(x,39);return new int64(rotr28.highOrder^rotr34.highOrder^rotr39.highOrder,rotr28.lowOrder^rotr34.lowOrder^rotr39.lowOrder)}function sigma1(x){var rotr14=rotr(x,14),rotr18=rotr(x,18),rotr41=rotr(x,41);return new int64(rotr14.highOrder^rotr18.highOrder^rotr41.highOrder,rotr14.lowOrder^rotr18.lowOrder^rotr41.lowOrder)}function gamma0(x){var rotr1=rotr(x,1),rotr8=rotr(x,8),shr7=shr(x,7);return new int64(rotr1.highOrder^rotr8.highOrder^shr7.highOrder,rotr1.lowOrder^rotr8.lowOrder^shr7.lowOrder)}function gamma1(x){var rotr19=rotr(x,19),rotr61=rotr(x,61),shr6=shr(x,6);return new int64(rotr19.highOrder^rotr61.highOrder^shr6.highOrder,rotr19.lowOrder^rotr61.lowOrder^shr6.lowOrder)}function shr(x,n){return n<=32?new int64(x.highOrder>>>n,x.lowOrder>>>n|x.highOrder<<32-n):new int64(0,x.highOrder<<32-n)}var str,strlen=8*(str=utf8_encode(str)).length;(str=str2binb(str))[strlen>>5]|=128<<24-strlen%32,str[31+(strlen+128>>10<<5)]=strlen;for(var i=0;i<str.length;i+=32){a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],f=H[5],g=H[6],h=H[7];for(var j=0;j<80;j++)W[j]=j<16?new int64(str[2*j+i],str[2*j+i+1]):safe_add_4(gamma1(W[j-2]),W[j-7],gamma0(W[j-15]),W[j-16]),T1=safe_add_5(h,sigma1(e),ch(e,f,g),K[j],W[j]),T2=safe_add_2(sigma0(a),maj(a,b,c)),h=g,g=f,f=e,e=safe_add_2(d,T1),d=c,c=b,b=a,a=safe_add_2(T1,T2);H[0]=safe_add_2(a,H[0]),H[1]=safe_add_2(b,H[1]),H[2]=safe_add_2(c,H[2]),H[3]=safe_add_2(d,H[3]),H[4]=safe_add_2(e,H[4]),H[5]=safe_add_2(f,H[5]),H[6]=safe_add_2(g,H[6]),H[7]=safe_add_2(h,H[7])}for(var binarray=[],i=0;i<H.length;i++)binarray.push(H[i].highOrder),binarray.push(H[i].lowOrder);return binb2hex(binarray)},jSuites.login||(jSuites.login={},jSuites.login.sha512=jSuites.sha512),jSuites.image=jSuites.upload=function(el,options){var obj={options:{}},defaults={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed"}};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];1==obj.options.multiple&&el.setAttribute("data-multiple",!0),el.content=[],el.classList.add("jupload"),1==obj.options.input&&el.classList.add("input"),obj.add=function(data){if(0==obj.options.multiple&&(el.content=[],el.innerText=""),"image"==obj.options.type){var img=document.createElement("img");img.setAttribute("src",data.file),img.setAttribute("tabindex",-1),el.getAttribute("name")||(img.className="jfile",img.content=data),el.appendChild(img)}else{if(data.name)var name=data.name;else var name=data.file;var div=document.createElement("div");div.innerText=name||obj.options.type,div.classList.add("jupload-item"),div.setAttribute("tabindex",-1),el.appendChild(div)}data.content&&(data.file=jSuites.guid()),el.content.push(data),"function"==typeof obj.options.onchange&&obj.options.onchange(el,data)},obj.addFromFile=function(file){var type;if(file.type.split("/")[0]==obj.options.type){var readFile=new FileReader;readFile.addEventListener("load",(function(v){var data={file:v.srcElement.result,extension:file.name.substr(file.name.lastIndexOf(".")+1),name:file.name,size:file.size,lastmodified:file.lastModified,content:v.srcElement.result};obj.add(data)})),readFile.readAsDataURL(file)}else alert(obj.options.text.extensionNotAllowed)},obj.addFromUrl=function(src){if("data"==src.substr(0,4)||obj.options.remoteParser)if("data"==src.substr(0,4)){var extension,type;if((extension=(extension=src.split(";"))[0].split("/"))[0].replace("data:","")==obj.options.type){var data={file:src,name:"",extension:extension[1],content:src};obj.add(data)}else alert(obj.options.text.extensionNotAllowed)}else{var extension=src.substr(src.lastIndexOf(".")+1);src=obj.options.remoteParser+src,jSuites.ajax({url:src,type:"GET",dataType:"blob",success:function(data){}})}else console.error("remoteParser not defined in your initialization")};var getDataURL=function(canvas,type){for(var compression=.92,lastContentLength=null,content=canvas.toDataURL(type,compression);obj.options.maxJpegSizeBytes&&"image/jpeg"===type&&content.length>obj.options.maxJpegSizeBytes&&content.length!==lastContentLength;)compression*=.9,lastContentLength=content.length,content=canvas.toDataURL(type,compression);return content},mime=obj.options.type+"/"+obj.options.extension,input=document.createElement("input");input.type="file",input.setAttribute("accept",mime),input.onchange=function(){for(var i=0;i<this.files.length;i++)obj.addFromFile(this.files[i])},1==obj.options.multiple&&input.setAttribute("multiple",!0);var current=null;return el.addEventListener("click",(function(e){current=null,el.children.length&&e.target!==el?e.target.parentNode==el&&(current=e.target):jSuites.click(input)})),el.addEventListener("dblclick",(function(e){jSuites.click(input)})),el.addEventListener("dragenter",(function(e){el.style.border="1px dashed #000"})),el.addEventListener("dragleave",(function(e){el.style.border="1px solid #eee"})),el.addEventListener("dragstop",(function(e){el.style.border="1px solid #eee"})),el.addEventListener("dragover",(function(e){e.preventDefault()})),el.addEventListener("keydown",(function(e){if(current&&46==e.which){var index=Array.prototype.indexOf.call(el.children,current);index>=0&&(el.content.splice(index,1),current.remove(),current=null)}})),el.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation();var html=(e.originalEvent||e).dataTransfer.getData("text/html"),file;if((e.originalEvent||e).dataTransfer.files.length)for(var i=0;i<e.dataTransfer.files.length;i++)obj.addFromFile(e.dataTransfer.files[i]);else if(html){0==obj.options.multiple&&(el.innerText="");var div=document.createElement("div");div.innerHTML=html;var img=div.querySelectorAll("img");if(img.length)for(var i=0;i<img.length;i++)obj.addFromUrl(img[i].src)}return el.style.border="1px solid #eee",!1})),el.val=function(val){if(void 0===val)return el.content&&el.content.length?el.content:null;if(el.innerText="",el.content=[],val)if(Array.isArray(val))for(var i=0;i<val.length;i++)"string"==typeof val[i]?obj.add({file:val[i]}):obj.add(val[i]);else"string"==typeof val&&obj.add({file:val})},el.upload=el.image=obj,obj},jSuites.image.create=function(data){var img=document.createElement("img");return img.setAttribute("src",data.file),img.className="jfile",img.setAttribute("tabindex",-1),img.content=data,img},jSuites.lazyLoading=function(el,options){var obj={};options.loadUp&&"function"==typeof options.loadUp||(options.loadUp=function(){return!1}),options.loadDown&&"function"==typeof options.loadDown||(options.loadDown=function(){return!1}),options.timer||(options.timer=100);var timeControlLoading=null,scrollControls=function(e){if(null==timeControlLoading){var event=!1,scrollTop=el.scrollTop;el.scrollTop+2*el.clientHeight>=el.scrollHeight?options.loadDown()&&(scrollTop==el.scrollTop&&(el.scrollTop=el.scrollTop-el.clientHeight),event=!0):el.scrollTop<=el.clientHeight&&options.loadUp()&&(scrollTop==el.scrollTop&&(el.scrollTop=el.scrollTop+el.clientHeight),event=!0),timeControlLoading=setTimeout((function(){timeControlLoading=null}),options.timer),event&&"function"==typeof options.onupdate&&options.onupdate()}};return el.onscroll=function(e){scrollControls(e)},el.onwheel=function(e){scrollControls(e)},obj},jSuites.loading=function(){var obj={},loading=null;return obj.show=function(){loading||((loading=document.createElement("div")).className="jloading"),document.body.appendChild(loading)},obj.hide=function(){loading&&loading.parentNode&&document.body.removeChild(loading)},obj}(),jSuites.mask=function(){var tokens={text:["@"],currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","HH24","HH12","HH","\\[H\\]","H","AM/PM","PM","AM","MI","SS","MS","MONTH","MON","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},getDate=function(){if(-1!==this.mask.toLowerCase().indexOf("[h]")){var m=0;this.date[4]&&(m=parseFloat(this.date[4]/60));var v=parseInt(this.date[3])+m;v/=24}else this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),v=jSuites.two(this.date[0])+"-"+jSuites.two(this.date[1])+"-"+jSuites.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(v+=" "+jSuites.two(this.date[3])+":"+jSuites.two(this.date[4])+":"+jSuites.two(this.date[5]))):v=jSuites.two(this.date[3])+":"+jSuites.two(this.date[4])+":"+jSuites.two(this.date[5]);return v},extractDate=function(){var v="";if(this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]){if(this.date[0]||this.date[1]||this.date[2]||this.date[3]||this.date[4]||this.date[5]){this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1);var t=jSuites.calendar.now(this.date);v=jSuites.calendar.dateToNum(t),this.date[4]&&(v+=parseFloat(this.date[4]/60))}}else v=-1!==this.mask.toLowerCase().indexOf("[h]")?parseInt(this.date[3]):parseInt(this.date[3])%24,this.date[4]&&(v+=parseFloat(this.date[4]/60)),v/=24;return v},isBlank=function(v){return null===v||""===v||void 0===v},isFormula=function(value){return"="==(""+value).chartAt(0)},isNumeric=function(t){return"currency"===t||"percentage"===t||"numeric"===t},getDecimal=function(v){if(v&&Number(v)==v)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var t=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=t[1]}var e,t,e,t;return v||(v=this.mask),(t=(e=new RegExp("0{1}(.{1})0+","ig")).exec(v))&&t[1]&&1==t[1].length?(this.options.decimal=t[1],t[1]):((t=(e=new RegExp("#{1}(.{1})#+","ig")).exec(v))&&t[1]&&1==t[1].length?","===t[1]?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2),this.options.decimal?this.options.decimal:null)},ParseValue=function(v,decimal){if(""==v)return"";decimal||(decimal=getDecimal.call(this));var signal=(v=(""+v).split(decimal))[0].match(/[-]+/g);return signal=!(!signal||!signal.length),v[0]=v[0].match(/[0-9]+/g),v[0]?(signal&&v[0].unshift("-"),v[0]=v[0].join("")):signal&&(v[0]="-"),v[0]||v[1]?(void 0!==v[1]&&(v[1]=v[1].match(/[0-9]+/g),v[1]?v[1]=v[1].join(""):v[1]=""),v):""},FormatValue=function(v,event){if(""==v)return"";var d=getDecimal.call(this),o=this.options;if(""==(v=ParseValue.call(this,v)))return"";if(v[0]){var t=parseFloat(v[0]+".1");"percent"==o.style&&(t/=100)}else var t=null;if(("-"==v[0]||"-00"==v[0])&&!v[1]&&event&&"deleteContentBackward"==event.inputType)return"";var n=new Intl.NumberFormat(this.locale,o).format(t);if(void 0!==(n=n.split(d))[1]){var s=n[1].replace(/[0-9]*/g,"");s&&(n[2]=s)}return void 0!==v[1]?n[1]=d+v[1]:n[1]="",n.join("")},Format=function(e,event){var v=Value.call(e);if(v){var d=getDecimal.call(this),n=FormatValue.call(this,v,event),t=n.length-v.length,index=Caret.call(e)+t;Value.call(e,n,index,!0)}},Extract=function(v){var current=ParseValue.call(this,v);return current?("-"===current[0]&&(current[0]="-0"),parseFloat(current.join("."))):null},Caret=function(index,adjustNumeric){if(void 0===index){if("DIV"==this.tagName){var pos=0,s,r,p;if(s=window.getSelection())if(0!==s.rangeCount)(p=(r=s.getRangeAt(0)).cloneRange()).selectNodeContents(this),p.setEnd(r.endContainer,r.endOffset),pos=p.toString().length;return pos}return this.selectionStart}var n=Value.call(this);if(adjustNumeric){for(var p=null,i=0;i<n.length;i++)(n[i].match(/[\-0-9]/g)||"."==n[i]||","==n[i])&&(p=i);null===p&&(p=n.indexOf(" ")),index>=p&&(index=p+1)}if(index>n.length&&(index=n.length),index)if("DIV"==this.tagName){var s=window.getSelection(),r=document.createRange();this.childNodes[0]&&(r.setStart(this.childNodes[0],index),s.removeAllRanges(),s.addRange(r))}else this.selectionStart=index,this.selectionEnd=index},Value=function(v,updateCaret,adjustNumeric){if("DIV"==this.tagName){if(void 0===v){var v=this.innerText;return this.value&&this.value.length>v.length&&(v=this.value),v}this.innerText!==v&&(this.innerText=v,updateCaret&&Caret.call(this,updateCaret,adjustNumeric))}else{if(void 0===v)return this.value;this.value!==v&&(this.value=v,updateCaret&&Caret.call(this,updateCaret,adjustNumeric))}},weekDaysFull=jSuites.calendar.weekdays,weekDays=jSuites.calendar.weekdaysShort,monthsFull=jSuites.calendar.months,months=jSuites.calendar.monthsShort,parser={YEAR:function(v,s){var y=""+(new Date).getFullYear();if(void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(v)>=0&&parseInt(v)<=10&&this.values[this.index].length<s&&(this.values[this.index]+=v),this.values[this.index].length==s){if(2==s)var y=y.substr(0,2)+this.values[this.index];else if(3==s)var y=y.substr(0,1)+this.values[this.index];else if(4==s)var y=this.values[this.index];this.date[0]=y,this.index++}},YYYY:function(v){parser.YEAR.call(this,v,4)},YYY:function(v){parser.YEAR.call(this,v,3)},YY:function(v){parser.YEAR.call(this,v,2)},FIND:function(v,a){isBlank(this.values[this.index])&&(this.values[this.index]="");for(var pos=0,count=0,value=(this.values[this.index]+v).toLowerCase(),i=0;i<a.length;i++)0==a[i].toLowerCase().indexOf(value)&&(pos=i,count++);if(count>1)this.values[this.index]+=v;else if(1==count){var t=a[pos].length-this.values[this.index].length-1;return this.position+=t,this.values[this.index]=a[pos],this.index++,pos}},MMM:function(v){var ret=parser.FIND.call(this,v,months);void 0!==ret&&(this.date[1]=ret+1)},MMMM:function(v){var ret=parser.FIND.call(this,v,monthsFull);void 0!==ret&&(this.date[1]=ret+1)},MMMMM:function(v){isBlank(this.values[this.index])&&(this.values[this.index]="");for(var pos=0,count=0,value=(this.values[this.index]+v).toLowerCase(),i=0;i<monthsFull.length;i++)if(0==monthsFull[i][0].toLowerCase().indexOf(value)){this.values[this.index]=monthsFull[i][0],this.date[1]=i+1,this.index++;break}},MM:function(v){isBlank(this.values[this.index])?parseInt(v)>1&&parseInt(v)<10?(this.date[1]=this.values[this.index]="0"+v,this.index++):parseInt(v)<2&&(this.values[this.index]=v):1==this.values[this.index]&&parseInt(v)<3?(this.date[1]=this.values[this.index]+=v,this.index++):0==this.values[this.index]&&parseInt(v)>0&&parseInt(v)<10&&(this.date[1]=this.values[this.index]+=v,this.index++)},M:function(v){var test=!1;if(parseInt(v)>=0&&parseInt(v)<10)if(isBlank(this.values[this.index]))this.values[this.index]=v,v>1&&(this.date[1]=this.values[this.index],this.index++);else if(1==this.values[this.index]&&parseInt(v)<3)this.date[1]=this.values[this.index]+=v,this.index++;else if(0==this.values[this.index]&&parseInt(v)>0)this.date[1]=this.values[this.index]+=v,this.index++;else var test=!0;else var test=!0;if(1==test){var t=parseInt(this.values[this.index]);t>0&&t<12&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},D:function(v){var test=!1;if(parseInt(v)>=0&&parseInt(v)<10)if(isBlank(this.values[this.index]))this.values[this.index]=v,parseInt(v)>3&&(this.date[2]=this.values[this.index],this.index++);else if(3==this.values[this.index]&&parseInt(v)<2)this.date[2]=this.values[this.index]+=v,this.index++;else if(1==this.values[this.index]||2==this.values[this.index])this.date[2]=this.values[this.index]+=v,this.index++;else if(0==this.values[this.index]&&parseInt(v)>0)this.date[2]=this.values[this.index]+=v,this.index++;else var test=!0;else var test=!0;if(1==test){var t=parseInt(this.values[this.index]);t>0&&t<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},DD:function(v){isBlank(this.values[this.index])?parseInt(v)>3&&parseInt(v)<10?(this.date[2]=this.values[this.index]="0"+v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):3==this.values[this.index]&&parseInt(v)<2?(this.date[2]=this.values[this.index]+=v,this.index++):(1==this.values[this.index]||2==this.values[this.index])&&parseInt(v)<10?(this.date[2]=this.values[this.index]+=v,this.index++):0==this.values[this.index]&&parseInt(v)>0&&parseInt(v)<10&&(this.date[2]=this.values[this.index]+=v,this.index++)},DDD:function(v){parser.FIND.call(this,v,weekDays)},DDDD:function(v){parser.FIND.call(this,v,weekDaysFull)},HH12:function(v,two){isBlank(this.values[this.index])?parseInt(v)>1&&parseInt(v)<10?(two&&(v=0+v),this.date[3]=this.values[this.index]=v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):1==this.values[this.index]&&parseInt(v)<3?(this.date[3]=this.values[this.index]+=v,this.index++):this.values[this.index]<1&&parseInt(v)<10&&(this.date[3]=this.values[this.index]+=v,this.index++)},HH24:function(v,two){var test=!1;parseInt(v)>=0&&parseInt(v)<10&&(null==this.values[this.index]||""==this.values[this.index]?parseInt(v)>2&&parseInt(v)<10?(two&&(v=0+v),this.date[3]=this.values[this.index]=v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):2==this.values[this.index]&&parseInt(v)<4?(this.date[3]=this.values[this.index]+=v,this.index++):this.values[this.index]<2&&parseInt(v)<10&&(this.date[3]=this.values[this.index]+=v,this.index++))},HH:function(v){parser.HH24.call(this,v,1)},H:function(v){parser.HH24.call(this,v,0)},"\\[H\\]":function(v){null==this.values[this.index]&&(this.values[this.index]=""),v.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=v:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(v,i){null==this.values[this.index]||""==this.values[this.index]?parseInt(v)>5&&parseInt(v)<10?(this.date[i]=this.values[this.index]="0"+v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):parseInt(v)<10&&(this.date[i]=this.values[this.index]+=v,this.index++)},MI:function(v){parser.N60.call(this,v,4)},SS:function(v){parser.N60.call(this,v,5)},"AM/PM":function(v){this.values[this.index]="",v&&(this.date[3]>12?this.values[this.index]="PM":this.values[this.index]="AM"),this.index++},WD:function(v){void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(v)>=0&&parseInt(v)<7&&(this.values[this.index]=v),1==this.value[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(v){var decimal=getDecimal.call(this),neg=!1;isBlank(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(neg=!0);var current=ParseValue.call(this,this.values[this.index],decimal);current&&(this.values[this.index]=current.join(decimal)),parseInt(v)>=0&&parseInt(v)<10?("0"==this.values[this.index]&&v>0?this.values[this.index]="":"-0"==this.values[this.index]&&v>0&&(this.values[this.index]="-"),("0"!=this.values[this.index]&&"-0"!=this.values[this.index]||v==decimal)&&(this.values[this.index]+=v)):decimal&&v==decimal?-1==this.values[this.index].indexOf(decimal)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=v):"-"==v&&(neg=!0),!0===neg&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(v){parser["0{1}(.{1}0+)?"].call(this,v),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(v){parser["0{1}(.{1}0+)?"].call(this,v);var decimal=getDecimal.call(this),separator=this.tokens[this.index].substr(1,1),negative="-"===this.values[this.index][0],current=ParseValue.call(this,this.values[this.index],decimal);if(""!==current){var n=current[0].match(/[0-9]/g);if(n){for(var t=[],s=0,j=(n=n.join("")).length-1;j>=0;j--)t.push(n[j]),++s%3||t.push(separator);t=t.reverse(),current[0]=t.join(""),current[0].substr(0,1)==separator&&(current[0]=current[0].substr(1))}else current[0]="";this.values[this.index]=current.join(decimal),negative&&(this.values[this.index]="-"+this.values[this.index])}},0:function(v){v.match(/[0-9]/g)&&(this.values[this.index]=v,this.index++)},"[0-9a-zA-Z$]+":function(v){isBlank(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index],s,i;t[this.values[this.index].length]==v?(this.values[this.index]+=v,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,v.match(/[\-0-9]/g)&&this.position--)},A:function(v){v.match(/[a-zA-Z]/gi)&&(this.values[this.index]=v,this.index++)},".":function(v){parser["[0-9a-zA-Z$]+"].call(this,v)},"@":function(v){isBlank(this.values[this.index])&&(this.values[this.index]=""),this.values[this.index]+=v}},getTokens=function(str){if("general"==this.type)var t=[].concat(tokens.general);else var t=[].concat(tokens.currency,tokens.datetime,tokens.percentage,tokens.numeric,tokens.text,tokens.general);var e=new RegExp(t.join("|"),"gi");return str.match(e)},getMethod=function(str){if(this.type)if("text"==this.type)var types=["text"];else if("general"==this.type)var types=["general"];else if("datetime"==this.type)var types=["numeric","datetime","general"];else var types=["currency","percentage","numeric","general"];else var types=Object.keys(tokens);for(var i=0;i<types.length;i++)for(var type=types[i],j=0;j<tokens[type].length;j++){var e=new RegExp(tokens[type][j],"gi"),r;if(str.match(e))return{type:type,method:tokens[type][j]}}},getMethods=function(t){for(var result=[],i=0;i<t.length;i++){var m=getMethod.call(this,t[i]);m?result.push(m.method):result.push(null)}for(var i=0;i<result.length;i++)"MM"==result[i]&&(result[i-1]&&result[i-1].indexOf("H")>=0?result[i]="MI":result[i-2]&&result[i-2].indexOf("H")>=0?result[i]="MI":result[i+1]&&result[i+1].indexOf("S")>=0?result[i]="MI":result[i+2]&&result[i+2].indexOf("S")>=0&&(result[i]="MI"));return result},getType=function(str){var m=getMethod.call(this,str);if(m)var type=m.type;if(type){for(var numeric=0,t=getTokens.call(this,str),i=0;i<t.length;i++)(m=getMethod.call(this,t[i]))&&isNumeric(m.type)&&numeric++;numeric>1&&(type="general")}return type},parse=function(){"function"==typeof parser[this.methods[this.index]]?(parser[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},isFormula=function(value){var v;return"="==(""+value)[0]},toPlainString=function(num){return(""+ +num).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(function(a,b,c,d,e){return e<0?b+"0."+Array(1-e-c.length).join(0)+c+d:b+c+d+Array(e-d.length+1).join(0)}))},obj=function(e,config,returnObject){var r=null,t=null,o={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof e){if(o.input=e.target,o.value=Value.call(e.target),o.caret=Caret.call(e.target),(t=e.target.getAttribute("data-mask"))&&(o.mask=t),(t=e.target.getAttribute("data-type"))&&(o.type=t),e.target.mask?(e.target.mask.options&&(o.options=e.target.mask.options),e.target.mask.locale&&(o.locale=e.target.mask.locale)):(t=e.target.getAttribute("data-locale"))&&(o.locale=t,o.mask&&(o.options.style=o.mask)),e.target.attributes&&e.target.attributes.length)for(var i=0;i<e.target.attributes.length;i++){var k=e.target.attributes[i].name,v=e.target.attributes[i].value;"data"==k.substr(0,4)&&(o.options[k.substr(5)]=v)}}else{if("string"==typeof config)o.mask=config;else for(var k=Object.keys(config),i=0;i<k.length;i++)o[k[i]]=config[k[i]];"number"==typeof e&&(getDecimal.call(o,o.mask),e=(""+e).replace(".",o.options.decimal)),o.value=e,o.input&&(Value.call(o.input,e),jSuites.focus(o.input),o.caret=Caret.call(o.input))}if(!isFormula(o.value)&&(o.mask||o.locale)){if(o.mask){if(o.mask=o.mask.replace(new RegExp(/\[h]/),"|h|"),o.mask=o.mask.replace(new RegExp(/\[.*?\]/),""),o.mask=o.mask.replace(new RegExp(/\|h\|/),"[h]"),-1!==o.mask.indexOf(";")){var t=o.mask.split(";");o.mask=t[0]}if(-1!==o.mask.indexOf("##")){var d=o.mask.split(";");d[0]&&(d[0]=d[0].replace("*","\t"),d[0]=d[0].replace(new RegExp(/_-/g)," "),d[0]=d[0].replace(new RegExp(/_/g),""),d[0]=d[0].replace("##0.###","##0.000"),d[0]=d[0].replace("##0.##","##0.00"),d[0]=d[0].replace("##0.#","##0.0"),d[0]=d[0].replace("##0,###","##0,000"),d[0]=d[0].replace("##0,##","##0,00"),d[0]=d[0].replace("##0,#","##0,0")),o.mask=d[0]}o.type||(o.type=getType.call(o,o.mask)),o.tokens=getTokens.call(o,o.mask)}if("object"!=typeof e||!e.inputType||!e.inputType.indexOf("insert")||!e.inputType.indexOf("delete"))if(o.locale)if(o.input)Format.call(o,o.input,e);else var newValue=FormatValue.call(o,o.value);else{for(o.methods=getMethods.call(o,o.tokens);o.position<o.value.length&&void 0!==o.tokens[o.index];)parse.call(o);var newValue=o.values.join("");if(isNumeric(o.type)&&""!==newValue){for(;void 0!==o.tokens[o.index];){var t;(t=getMethod.call(o,o.tokens[o.index]))&&"general"==t.type&&(o.values[o.index]=o.tokens[o.index]),o.index++}var adjustNumeric=!0}else var adjustNumeric=!1;if(newValue=o.values.join(""),o.input){if((t=newValue.length-o.value.length)>0)var caret=o.caret+t;else var caret=o.caret;Value.call(o.input,newValue,caret,adjustNumeric)}}if(o.input){var label=null;isNumeric(o.type)?(o.number=Extract.call(o,Value.call(o.input)),label="percentage"==o.type?o.number/100:o.number):"datetime"==o.type&&(label=getDate.call(o),o.date[0]&&o.date[1]&&o.date[2]&&o.input.setAttribute("data-completed",!0)),label&&o.input.setAttribute("data-value",label)}if(void 0!==newValue)return returnObject?o:newValue}};return obj.getType=getType,obj.prepare=function(str,o){return o||(o={}),getTokens.call(o,str)},obj.apply=function(e){var v=Value.call(e.target);1==e.key.length&&(v+=e.key),Value.call(e.target,obj(v,e.target.getAttribute("data-mask")))},obj.run=function(value,mask,decimal){return obj(value,{mask:mask,decimal:decimal})},obj.extract=function(v,options,returnObject){if(isBlank(v))return v;if("object"!=typeof options)return value;if((options=Object.assign({},options)).options||(options.options={}),!options.mask&&options.format&&(options.mask=options.format),options.mask){if(-1!==options.mask.indexOf(";")){var t=options.mask.split(";");options.mask=t[0]}options.mask=options.mask.replace(new RegExp(/\[h]/),"|h|"),options.mask=options.mask.replace(new RegExp(/\[.*?\]/),""),options.mask=options.mask.replace(new RegExp(/\|h\|/),"[h]")}getDecimal.call(options,options.mask);var type=null;if("percent"==options.type||"percent"==options.options.style?type="percentage":options.mask&&(type=getType.call(options,options.mask)),"general"===type){var o=obj(v,options,!0);value=v}else if("datetime"===type){if(v instanceof Date)var t=jSuites.calendar.getDateString(value,options.mask);var o=obj(v,options,!0);if(jSuites.isNumeric(v))value=v;else var value=extractDate.call(o)}else{var value=Extract.call(options,v);"percentage"==type&&(value/=100);var o=options}return o.value=value,!o.type&&type&&(o.type=type),returnObject?o:value},obj.render=function(value,options,fullMask){if(isBlank(value))return value;if("object"!=typeof options)return value;if((options=Object.assign({},options)).options||(options.options={}),!options.mask&&options.format&&(options.mask=options.format),options.mask){if(-1!==options.mask.indexOf(";")){var t=options.mask.split(";");options.mask=t[0]}options.mask=options.mask.replace(new RegExp(/\[h]/),"|h|"),options.mask=options.mask.replace(new RegExp(/\[.*?\]/),""),options.mask=options.mask.replace(new RegExp(/\|h\|/),"[h]")}var type=null;"percent"==options.type||"percent"==options.options.style?type="percentage":options.mask?type=getType.call(options,options.mask):value instanceof Date&&(type="datetime");var fillWithBlanks=!1,t;if("datetime"==type||"calendar"==options.type)(t=jSuites.calendar.getDateString(value,options.mask))&&(value=t),options.mask&&fullMask&&(fillWithBlanks=!0);else if("percentage"==type&&(value*=100),"number"==typeof value){var t=null;if(options.mask&&fullMask&&-1===(""+value).indexOf("e")){var d=getDecimal.call(options,options.mask);-1!==options.mask.indexOf(d)?(d=(d=""+(d=options.mask.split(d))[1].match(/[0-9]+/g)).length,t=value.toFixed(d)):t=value.toFixed(0)}else if(options.locale&&fullMask){var d=(""+value).split(".");if(options.options){void 0===d[1]&&(d[1]="");var len=d[1].length;if(options.options.minimumFractionDigits>len)for(var i=0;i<options.options.minimumFractionDigits-len;i++)d[1]+="0"}t=d[1].length?d.join("."):d[0];var len=d[1].length;options.options&&options.options.maximumFractionDigits<len&&(t=parseFloat(t).toFixed(options.options.maximumFractionDigits))}else t=toPlainString(value);null!==t&&(value=t,getDecimal.call(options,options.mask),options.options.decimal&&(value=value.replace(".",options.options.decimal)))}else options.mask&&fullMask&&(fillWithBlanks=!0);if(fillWithBlanks){var s=options.mask.length-value.length;if(s>0)for(var i=0;i<s;i++)value+=" "}if(value=obj(value,options),fullMask&&"numeric"===type){var maskZeros=options.mask.match(new RegExp(/^[0]+$/gm));if(maskZeros&&1===maskZeros.length){var maskLength=maskZeros[0].length;if(maskLength>3)for(value=""+value;value.length<maskLength;)value="0"+value}}return value},obj.set=function(e,m){if(m){e.setAttribute("data-mask",m);var event=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(event)}},"undefined"!=typeof document&&document.addEventListener("input",(function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&obj(e)})),obj}(),jSuites.modal=function(el,options){var obj={options:{}},defaults={url:null,onopen:null,onclose:null,onload:null,closed:!1,width:null,height:null,title:null,padding:null,backdrop:!0,icon:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];!obj.options.title&&el.getAttribute("title")&&(obj.options.title=el.getAttribute("title"));for(var temp=document.createElement("div");el.children[0];)temp.appendChild(el.children[0]);for(obj.title=document.createElement("div"),obj.title.className="jmodal_title",obj.options.icon&&obj.title.setAttribute("data-icon",obj.options.icon),obj.content=document.createElement("div"),obj.content.className="jmodal_content",obj.content.innerHTML=el.innerHTML;temp.children[0];)obj.content.appendChild(temp.children[0]);if(obj.container=document.createElement("div"),obj.container.className="jmodal",obj.container.appendChild(obj.title),obj.container.appendChild(obj.content),obj.options.padding&&(obj.content.style.padding=obj.options.padding),obj.options.width&&(obj.container.style.width=obj.options.width),obj.options.height&&(obj.container.style.height=obj.options.height),obj.options.title&&(obj.title.innerText=obj.options.title),el.innerHTML="",el.style.display="none",el.appendChild(obj.container),obj.options.backdrop){var backdrop=document.createElement("div");backdrop.className="jmodal_backdrop",backdrop.onclick=function(){obj.close()},el.appendChild(backdrop)}if(obj.open=function(){el.style.display="block";var rect=obj.container.getBoundingClientRect();jSuites.getWindowWidth()<rect.width?(obj.container.style.top="",obj.container.style.left="",obj.container.classList.add("jmodal_fullscreen"),jSuites.animation.slideBottom(obj.container,1)):obj.options.backdrop&&(backdrop.style.display="block"),"function"==typeof obj.options.onopen&&obj.options.onopen(el,obj)},obj.resetPosition=function(){obj.container.style.top="",obj.container.style.left=""},obj.isOpen=function(){return"none"!=el.style.display},obj.close=function(){obj.isOpen()&&(el.style.display="none",obj.options.backdrop&&(backdrop.style.display=""),obj.container.classList.remove("jmodal_fullscreen"),"function"==typeof obj.options.onclose&&obj.options.onclose(el,obj))},!jSuites.modal.hasEvents){var tracker=null;document.addEventListener("keydown",(function(e){if(27==e.which)for(var modals=document.querySelectorAll(".jmodal"),i=0;i<modals.length;i++)modals[i].parentNode.modal.close()})),document.addEventListener("mouseup",(function(e){var item=jSuites.findElement(e.target,"jmodal");if(item){var rect=item.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;rect.width-(x-rect.left)<50&&y-rect.top<50&&item.parentNode.modal.close()}tracker&&(tracker.element.style.cursor="auto",tracker=null)})),document.addEventListener("mousedown",(function(e){var item=jSuites.findElement(e.target,"jmodal");if(item){var rect=item.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;rect.width-(x-rect.left)<50&&y-rect.top<50||y-rect.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),tracker={left:rect.left,top:rect.top,x:e.clientX,y:e.clientY,width:rect.width,height:rect.height,element:item})}})),document.addEventListener("mousemove",(function(e){if(tracker){if((e=e||window.event).buttons)var mouseButton=e.buttons;else if(e.button)var mouseButton=e.button;else var mouseButton=e.which;mouseButton?(tracker.element.style.top=tracker.top+(e.clientY-tracker.y)+tracker.height/2+"px",tracker.element.style.left=tracker.left+(e.clientX-tracker.x)+tracker.width/2+"px",tracker.element.style.cursor="move"):tracker.element.style.cursor="auto"}})),jSuites.modal.hasEvents=!0}return obj.options.url?jSuites.ajax({url:obj.options.url,method:"GET",dataType:"text/html",success:function(data){obj.content.innerHTML=data,obj.options.closed||obj.open(),"function"==typeof obj.options.onload&&obj.options.onload(obj)}}):(obj.options.closed||obj.open(),"function"==typeof obj.options.onload&&obj.options.onload(obj)),el.modal=obj,obj},jSuites.notification=function(options){var obj={options:{}},defaults={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];var notification=document.createElement("div");notification.className="jnotification",obj.options.error&&notification.classList.add("jnotification-error");var notificationContainer=document.createElement("div");notificationContainer.className="jnotification-container",notification.appendChild(notificationContainer);var notificationHeader=document.createElement("div");notificationHeader.className="jnotification-header",notificationContainer.appendChild(notificationHeader);var notificationImage=document.createElement("div");if(notificationImage.className="jnotification-image",notificationHeader.appendChild(notificationImage),obj.options.icon){var notificationIcon=document.createElement("img");notificationIcon.src=obj.options.icon,notificationImage.appendChild(notificationIcon)}var notificationName=document.createElement("div");if(notificationName.className="jnotification-name",notificationName.innerHTML=obj.options.name,notificationHeader.appendChild(notificationName),1==obj.options.closeable){var notificationClose=document.createElement("div");notificationClose.className="jnotification-close",notificationClose.onclick=function(){obj.hide()},notificationHeader.appendChild(notificationClose)}var notificationDate=document.createElement("div");notificationDate.className="jnotification-date",notificationHeader.appendChild(notificationDate);var notificationContent=document.createElement("div");if(notificationContent.className="jnotification-content",notificationContainer.appendChild(notificationContent),obj.options.title){var notificationTitle=document.createElement("div");notificationTitle.className="jnotification-title",notificationTitle.innerHTML=obj.options.title,notificationContent.appendChild(notificationTitle)}var notificationMessage=document.createElement("div");if(notificationMessage.className="jnotification-message",notificationMessage.innerHTML=obj.options.message,notificationContent.appendChild(notificationMessage),obj.show=function(){document.body.appendChild(notification),jSuites.getWindowWidth()>800?jSuites.animation.fadeIn(notification):jSuites.animation.slideTop(notification,1)},obj.hide=function(){jSuites.getWindowWidth()>800?jSuites.animation.fadeOut(notification,(function(){notification.parentNode&&(notification.parentNode.removeChild(notification),notificationTimeout&&clearTimeout(notificationTimeout))})):jSuites.animation.slideTop(notification,0,(function(){notification.parentNode&&(notification.parentNode.removeChild(notification),notificationTimeout&&clearTimeout(notificationTimeout))}))},obj.show(),1==obj.options.autoHide)var notificationTimeout=setTimeout((function(){obj.hide()}),obj.options.timeout);return jSuites.getWindowWidth()<800&&notification.addEventListener("swipeup",(function(e){obj.hide(),e.preventDefault(),e.stopPropagation()})),obj},jSuites.notification.isVisible=function(){var j=document.querySelector(".jnotification");return!(!j||!j.parentNode)},jSuites.palette=(palette={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]},(component=function(o){return palette[o]?palette[o]:palette.material}).get=function(o){return palette[o]?palette[o]:palette},component.set=function(o,v){palette[o]=v},component),jSuites.picker=function(el,options){if(el.picker)return el.picker.setOptions(options,!0);var obj={type:"picker",options:{}},dropdownHeader=null,dropdownContent=null,createContent=function(){dropdownContent.innerHTML="";for(var keys=Object.keys(obj.options.data),i=0;i<keys.length;i++){var dropdownItem=document.createElement("div");dropdownItem.classList.add("jpicker-item"),dropdownItem.k=keys[i],dropdownItem.v=obj.options.data[keys[i]],dropdownItem.innerHTML=obj.getLabel(keys[i]),dropdownContent.appendChild(dropdownItem)}},init;return obj.setOptions=function(options,reset){var defaults={value:0,data:null,render:null,onchange:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,content:!1,columns:null,height:null};for(var property in options&&options.options&&(options.data=options.options),defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return!1===obj.options.header?dropdownHeader.style.display="none":dropdownHeader.style.display="",obj.options.width?dropdownHeader.style.width=parseInt(obj.options.width)+"px":dropdownHeader.style.width="",obj.options.height?(dropdownContent.style.maxHeight=obj.options.height+"px",dropdownContent.style.overflow="scroll"):dropdownContent.style.overflow="",obj.options.columns>0&&(dropdownContent.classList.add("jpicker-columns"),dropdownContent.style.width=obj.options.width?obj.options.width:36*obj.options.columns+"px"),isNaN(obj.options.value)&&(obj.options.value="0"),createContent(),obj.setValue(obj.options.value),obj},obj.getValue=function(){return obj.options.value},obj.setValue=function(v){obj.setLabel(v),obj.options.value=String(v),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value})),"generic"!==dropdownContent.children[v].getAttribute("type")&&obj.close()},obj.getLabel=function(v){var label=obj.options.data[v]||null;return"function"==typeof obj.options.render&&(label=obj.options.render(label)),label},obj.setLabel=function(v){if(obj.options.content)var label='<i class="material-icons">'+obj.options.content+"</i>";else var label=obj.getLabel(v);dropdownHeader.innerHTML=label},obj.open=function(){if(!el.classList.contains("jpicker-focus")){jSuites.tracking(obj,!0),el.classList.add("jpicker-focus"),el.focus();var top=0,left=0;dropdownContent.style.marginLeft="";var rectHeader=dropdownHeader.getBoundingClientRect(),rectContent=dropdownContent.getBoundingClientRect();top=window.innerHeight<rectHeader.bottom+rectContent.height?-1*(rectContent.height+4):rectHeader.height+4,!0===obj.options.right&&(left=-1*rectContent.width+rectHeader.width),rectContent.left+left<0&&(left=left+rectContent.left+10),rectContent.left+rectContent.width>window.innerWidth&&(left=-1*(10+rectContent.left+rectContent.width-window.innerWidth)),dropdownContent.style.marginTop=parseInt(top)+"px",dropdownContent.style.marginLeft=parseInt(left)+"px","function"==typeof obj.options.onopen&&obj.options.onopen(el,obj)}},obj.close=function(){el.classList.contains("jpicker-focus")&&(el.classList.remove("jpicker-focus"),jSuites.tracking(obj,!1),"function"==typeof obj.options.onclose&&obj.options.onclose(el,obj))},function(){el.classList.add("jpicker"),el.setAttribute("tabindex","900"),el.onmousedown=function(e){el.classList.contains("jpicker-focus")||obj.open()},(dropdownHeader=document.createElement("div")).classList.add("jpicker-header"),(dropdownContent=document.createElement("div")).classList.add("jpicker-content"),dropdownContent.onclick=function(e){var item=jSuites.findElement(e.target,"jpicker-item");item&&item.parentNode===dropdownContent&&(obj.setValue(item.k),"function"==typeof obj.options.onchange&&obj.options.onchange.call(obj,el,obj,item.v,item.v,item.k,e))},el.appendChild(dropdownHeader),el.appendChild(dropdownContent),el.value=options.value||0,obj.setOptions(options),"function"==typeof obj.options.onload&&obj.options.onload(el,obj),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.picker=obj}(),obj},jSuites.progressbar=function(el,options){var obj={options:{}},defaults={value:0,onchange:null,width:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];el.classList.add("jprogressbar"),el.setAttribute("tabindex",1),el.setAttribute("data-value",obj.options.value);var bar=document.createElement("div");bar.style.width=obj.options.value+"%",bar.style.color="#fff",el.appendChild(bar),obj.options.width&&(el.style.width=obj.options.width),obj.setValue=function(value){value=parseInt(value),obj.options.value=value,bar.style.width=value+"%",el.setAttribute("data-value",value+"%"),el.style.color=value<6?"#000":"#fff",obj.options.value=value,"function"==typeof obj.options.onchange&&obj.options.onchange(el,value),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))},obj.getValue=function(){return obj.options.value};var action=function(e){if(e.which){var rect=el.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;obj.setValue(Math.round((x-rect.left)/rect.width*100))}};return"touchstart"in document.documentElement==!0?(el.addEventListener("touchstart",action),el.addEventListener("touchend",action)):(el.addEventListener("mousedown",action),el.addEventListener("mousemove",action)),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.progressbar=obj,obj},jSuites.rating=function(el,options){if(el.rating)return el.rating.setOptions(options,!0);var obj={options:{},setOptions:function(options,reset){var defaults={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);el.innerHTML="";for(var i=0;i<obj.options.number;i++){var div=document.createElement("div");div.setAttribute("data-index",i+1),div.setAttribute("title",obj.options.tooltip[i]),el.appendChild(div)}if(obj.options.value)for(var i=0;i<obj.options.number;i++)i<obj.options.value&&el.children[i].classList.add("jrating-selected");return obj},setValue:function(index){for(var i=0;i<obj.options.number;i++)i<index?el.children[i].classList.add("jrating-selected"):(el.children[i].classList.remove("jrating-over"),el.children[i].classList.remove("jrating-selected"));obj.options.value=index,"function"==typeof obj.options.onchange&&obj.options.onchange(el,index),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))},getValue:function(){return obj.options.value}},init;return function(){obj.setOptions(options),el.classList.add("jrating"),el.addEventListener("click",(function(e){var index=e.target.getAttribute("data-index");null!=index&&(index==obj.options.value?obj.setValue(0):obj.setValue(index))})),el.addEventListener("mouseover",(function(e){for(var index=e.target.getAttribute("data-index"),i=0;i<obj.options.number;i++)i<index?el.children[i].classList.add("jrating-over"):el.children[i].classList.remove("jrating-over")})),el.addEventListener("mouseout",(function(e){for(var i=0;i<obj.options.number;i++)el.children[i].classList.remove("jrating-over")})),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.rating=obj}(),obj},jSuites.search=function(el,options){if(el.search)return el.search;var index=null,select=function(e){if(e.target.classList.contains("jsearch_item"))var element=e.target;else var element=e.target.parentNode;obj.selectIndex(element),e.preventDefault()},createList=function(data){if(container.innerHTML="",data.length){el.style.display="block";for(var len=data.length<11?data.length:10,i=0;i<len;i++){var text,value;if("string"==typeof data[i])var text=data[i],value=data[i];else!(text=data[i].text)&&data[i].name&&(text=data[i].name),!(value=data[i].value)&&data[i].id&&(value=data[i].id);var div=document.createElement("div");div.setAttribute("data-value",value),div.setAttribute("data-text",text),div.className="jsearch_item",data[i].id&&div.setAttribute("id",data[i].id),obj.options.forceSelect&&0==i&&div.classList.add("selected");var img=document.createElement("img");data[i].image?img.src=data[i].image:img.style.display="none",div.appendChild(img);var item=document.createElement("div");item.innerHTML=text,div.appendChild(item),container.appendChild(div)}}else el.style.display=""},execute=function(str){if(str!=obj.terms)if(obj.terms=str,index=obj.options.forceSelect?0:null,Array.isArray(obj.options.data)){var test=function(o){if("string"==typeof o){if((""+o).toLowerCase().search(str.toLowerCase())>=0)return!0}else for(var key in o){var value;if((""+o[key]).toLowerCase().search(str.toLowerCase())>=0)return!0}return!1},results=obj.options.data.filter((function(item){return test(item)}));createList(results)}else jSuites.ajax({url:obj.options.data+str,method:"GET",dataType:"json",success:function(data){createList(data)}})},timer=null,obj=function(str){timer&&clearTimeout(timer),timer=setTimeout((function(){execute(str)}),500)};null===options.forceSelect&&(options.forceSelect=!0),obj.options={data:options.data||null,input:options.input||null,searchByNode:options.searchByNode||null,onselect:options.onselect||null,forceSelect:options.forceSelect,onbeforesearch:options.onbeforesearch||null},obj.selectIndex=function(item){var id=item.getAttribute("id"),text=item.getAttribute("data-text"),value=item.getAttribute("data-value");"function"==typeof obj.options.onselect&&obj.options.onselect(obj,text,value,id),obj.close()},obj.open=function(){el.style.display="block"},obj.close=function(){timer&&clearTimeout(timer),obj.terms="",container.innerHTML="",el.style.display=""},obj.isOpened=function(){return!!el.style.display},obj.keydown=function(e){obj.isOpened()&&("Enter"==e.key?null!==index&&container.children[index]?(obj.selectIndex(container.children[index]),e.preventDefault()):obj.close():"ArrowUp"===e.key?(null!==index&&container.children[0]&&(container.children[index].classList.remove("selected"),obj.options.forceSelect||0!==index?(index=Math.max(0,index-1),container.children[index].classList.add("selected")):index=null),e.preventDefault()):"ArrowDown"===e.key&&(null==index?index=-1:container.children[index].classList.remove("selected"),index<9&&container.children[index+1]&&index++,container.children[index].classList.add("selected"),e.preventDefault()))},obj.keyup=function(e){if(obj.options.searchByNode){var node=jSuites.getNode();if(node)var terms=node.innerText}else if("DIV"===obj.options.input.tagName)var terms=obj.options.input.innerText;else var terms=obj.options.input.value;if("function"==typeof obj.options.onbeforesearch){var ret=obj.options.onbeforesearch(obj,terms);if(ret)terms=ret;else if(!1===ret)return}obj(terms)},obj.options.input&&(obj.options.input.addEventListener("keyup",obj.keyup),obj.options.input.addEventListener("keydown",obj.keydown));var container=document.createElement("div");return container.classList.add("jsearch_container"),container.onmousedown=select,el.appendChild(container),el.classList.add("jsearch"),el.search=obj,obj},jSuites.slider=function(el,options){var obj={options:{},currentImage:null};if(options&&(obj.options=options),el.setAttribute("tabindex","900"),obj.options.items=[],!el.classList.contains("jslider")){if(el.classList.add("jslider"),el.classList.add("unselectable"),obj.options.height&&(el.style.minHeight=obj.options.height),obj.options.width&&(el.style.width=obj.options.width),obj.options.grid){el.classList.add("jslider-grid");var number=el.children.length;number>4&&el.setAttribute("data-total",number-4),el.setAttribute("data-number",number>4?4:number)}var counter=document.createElement("div");if(counter.classList.add("jslider-counter"),el.children.length>0)for(var i=0;i<el.children.length;i++){obj.options.items.push(el.children[i]);var item=document.createElement("div");item.onclick=function(){var index=Array.prototype.slice.call(counter.children).indexOf(this);obj.show(obj.currentImage=obj.options.items[index])},counter.appendChild(item)}var caption=document.createElement("div");caption.className="jslider-caption";var controls=document.createElement("div"),close=document.createElement("div");close.className="jslider-close",close.innerHTML="",close.onclick=function(){obj.close()},controls.appendChild(caption),controls.appendChild(close)}obj.updateCounter=function(index){for(var i=0;i<counter.children.length;i++)if(counter.children[i].classList.contains("jslider-counter-focus")){counter.children[i].classList.remove("jslider-counter-focus");break}counter.children[index].classList.add("jslider-counter-focus")},obj.show=function(target){if(!target)var target=el.children[0];el.classList.add("jslider-focus"),el.classList.remove("jslider-grid"),el.appendChild(controls),el.appendChild(counter);var index=obj.options.items.indexOf(target);obj.updateCounter(index);for(var i=0;i<el.children.length;i++)el.children[i].style.display="";target.style.display="block",target.previousElementSibling?el.classList.add("jslider-left"):el.classList.remove("jslider-left"),target.nextElementSibling&&"IMG"==target.nextElementSibling.tagName?el.classList.add("jslider-right"):el.classList.remove("jslider-right"),obj.currentImage=target,obj.currentImage.offsetHeight>obj.currentImage.offsetWidth&&obj.currentImage.classList.add("jslider-vertical"),controls.children[0].innerText=obj.currentImage.getAttribute("title")},obj.open=function(){obj.show(),"function"==typeof obj.options.onopen&&obj.options.onopen(el)},obj.close=function(){el.classList.remove("jslider-focus"),el.classList.remove("jslider-left"),el.classList.remove("jslider-right"),obj.options.grid&&el.classList.add("jslider-grid");for(var i=0;i<el.children.length;i++)el.children[i].style.display="";counter.remove(),controls.remove(),obj.currentImage=null,"function"==typeof obj.options.onclose&&obj.options.onclose(el)},obj.reset=function(){el.innerHTML=""},obj.next=function(){var nextImage=obj.currentImage.nextElementSibling;nextImage&&"IMG"===nextImage.tagName&&obj.show(obj.currentImage.nextElementSibling)},obj.prev=function(){obj.currentImage.previousElementSibling&&obj.show(obj.currentImage.previousElementSibling)};var mouseUp=function(e){if("IMG"==e.target.tagName)obj.show(e.target);else if(!e.target.classList.contains("jslider-close")&&!e.target.parentNode.classList.contains("jslider-counter")&&!e.target.classList.contains("jslider-counter")){var offsetX=e.offsetX||e.changedTouches[0].clientX;e.target.clientWidth-offsetX<40?obj.next():offsetX<40&&obj.prev()}};return"ontouchend"in document.documentElement==!0?el.addEventListener("touchend",mouseUp):el.addEventListener("mouseup",mouseUp),el.addEventListener("swipeleft",(function(e){obj.next(),e.preventDefault(),e.stopPropagation()})),el.addEventListener("swiperight",(function(e){obj.prev(),e.preventDefault(),e.stopPropagation()})),el.addEventListener("keydown",(function(e){27==e.which&&obj.close()})),el.slider=obj,obj},jSuites.sorting=function(el,options){var obj={options:{}},defaults={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},dragElement=null;for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];el.classList.add("jsorting"),el.addEventListener("dragstart",(function(e){var position=Array.prototype.indexOf.call(e.target.parentNode.children,e.target);dragElement={element:e.target,o:position,d:position},e.target.style.opacity="0.25","function"==typeof obj.options.ondragstart&&obj.options.ondragstart(el,e.target,e)})),el.addEventListener("dragover",(function(e){if(e.preventDefault(),getElement(e.target)&&dragElement&&"true"==e.target.getAttribute("draggable")&&dragElement.element!=e.target){if(obj.options.direction)var condition=e.target.clientWidth/2>e.offsetX;else var condition=e.target.clientHeight/2>e.offsetY;condition?e.target.parentNode.insertBefore(dragElement.element,e.target):e.target.parentNode.insertBefore(dragElement.element,e.target.nextSibling),dragElement.d=Array.prototype.indexOf.call(e.target.parentNode.children,dragElement.element)}})),el.addEventListener("dragleave",(function(e){e.preventDefault()})),el.addEventListener("dragend",(function(e){e.preventDefault(),dragElement&&("function"==typeof obj.options.ondragend&&obj.options.ondragend(el,dragElement.element,e),dragElement.o<dragElement.d?e.target.parentNode.insertBefore(dragElement.element,e.target.parentNode.children[dragElement.o]):e.target.parentNode.insertBefore(dragElement.element,e.target.parentNode.children[dragElement.o].nextSibling),dragElement.element.style.opacity="",dragElement=null)})),el.addEventListener("drop",(function(e){e.preventDefault(),dragElement&&dragElement.o!=dragElement.d&&"function"==typeof obj.options.ondrop&&obj.options.ondrop(el,dragElement.o,dragElement.d,dragElement.element,e.target,e),dragElement.element.style.opacity="",dragElement=null}));for(var getElement=function(element){var sorting=!1;function path(element){element.className&&element.classList.contains("jsorting")&&(sorting=!0),sorting||path(element.parentNode)}return path(element),sorting},i=0;i<el.children.length;i++)el.children[i].hasAttribute("draggable")||el.children[i].setAttribute("draggable","true");return el.val=function(){for(var id=null,data=[],i=0;i<el.children.length;i++)(id=el.children[i].getAttribute("data-id"))&&data.push(id);return data},el},jSuites.tabs=function(el,options){var obj={options:{}},defaults={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];el.classList.add("jtabs");var prev=null,next=null,border=null,setBorder=function(index){obj.options.animation&&setTimeout((function(){var rect=obj.headers.children[index].getBoundingClientRect();"modern"==obj.options.palette?(border.style.width=rect.width-4+"px",border.style.left=obj.headers.children[index].offsetLeft+2+"px"):(border.style.width=rect.width+"px",border.style.left=obj.headers.children[index].offsetLeft+"px"),"bottom"==obj.options.position?border.style.top="0px":border.style.bottom="0px"}),150)},updateControls=function(x){"function"==typeof obj.headers.scrollTo?obj.headers.scrollTo({left:x,behavior:"smooth"}):obj.headers.scrollLeft=x,x<=1?prev.classList.add("disabled"):prev.classList.remove("disabled"),x>=obj.headers.scrollWidth-obj.headers.offsetWidth?next.classList.add("disabled"):next.classList.remove("disabled"),obj.headers.scrollWidth<=obj.headers.offsetWidth?(prev.style.display="none",next.style.display="none"):(prev.style.display="",next.style.display="")};if(obj.setBorder=setBorder,obj.open=function(index){for(var previous=null,i=0;i<obj.headers.children.length;i++)obj.headers.children[i].classList.contains("jtabs-selected")&&(previous=i),obj.headers.children[i].classList.remove("jtabs-selected"),obj.content.children[i]&&obj.content.children[i].classList.remove("jtabs-selected");if(obj.headers.children[index].classList.add("jtabs-selected"),obj.content.children[index]&&obj.content.children[index].classList.add("jtabs-selected"),previous!=index&&"function"==typeof obj.options.onchange&&obj.content.children[index]&&obj.options.onchange(el,obj,index,obj.headers.children[index],obj.content.children[index]),1==obj.options.hideHeaders&&obj.headers.children.length<3&&0==obj.options.allowCreate)obj.headers.parentNode.style.display="none";else{setBorder(index),obj.headers.parentNode.style.display="";var x1=obj.headers.children[index].offsetLeft,x2=x1+obj.headers.children[index].offsetWidth,r1=obj.headers.scrollLeft,r2=r1+obj.headers.offsetWidth;r1<=x1&&r2>=x2||updateControls(x1-1)}},obj.selectIndex=function(a){var index=Array.prototype.indexOf.call(obj.headers.children,a);return index>=0&&obj.open(index),index},obj.rename=function(i,title){title||(title=prompt("New title",obj.headers.children[i].innerText)),obj.headers.children[i].innerText=title,obj.open(i)},obj.create=function(title,url){if("function"==typeof obj.options.onbeforecreate){var ret=obj.options.onbeforecreate(el);if(!1===ret)return!1;title=ret}var div=obj.appendElement(title);return"function"==typeof obj.options.oncreate&&obj.options.oncreate(el,div),setBorder(),div},obj.remove=function(index){return obj.deleteElement(index)},obj.nextNumber=function(){for(var num=0,i=0;i<obj.headers.children.length;i++){var tmp=obj.headers.children[i].innerText.match(/[0-9].*/);tmp>num&&(num=parseInt(tmp))}return num?num++:num=1,num},obj.deleteElement=function(index){if(!obj.headers.children[index])return!1;obj.headers.removeChild(obj.headers.children[index]),obj.content.removeChild(obj.content.children[index]),obj.open(0),"function"==typeof obj.options.ondelete&&obj.options.ondelete(el,index)},obj.appendElement=function(title,cb){if(!title)var title=prompt("Title?","");if(title){var div=document.createElement("div");obj.content.appendChild(div);var h=document.createElement("div");return h.innerHTML=title,h.content=div,obj.headers.insertBefore(h,obj.headers.lastChild),obj.options.allowChangePosition&&h.setAttribute("draggable","true"),obj.selectIndex(h),"function"==typeof cb&&cb(div,h),div}},obj.getActive=function(){for(var i=0;i<obj.headers.children.length;i++)if(obj.headers.children[i].classList.contains("jtabs-selected"))return i;return 0},obj.updateContent=function(position,newContent){var contentItem;if("string"!=typeof newContent)var contentItem=newContent;else document.createElement("div").innerHTML=newContent;obj.content.children[position].classList.contains("jtabs-selected")&&newContent.classList.add("jtabs-selected"),obj.content.replaceChild(newContent,obj.content.children[position]),setBorder()},obj.updatePosition=function(f,t){f>t?obj.content.insertBefore(obj.content.children[f],obj.content.children[t]):obj.content.insertBefore(obj.content.children[f],obj.content.children[t].nextSibling),obj.open(t),"function"==typeof obj.options.onchangeposition&&obj.options.onchangeposition(obj.headers,f,t)},obj.move=function(f,t){f>t?obj.headers.insertBefore(obj.headers.children[f],obj.headers.children[t]):obj.headers.insertBefore(obj.headers.children[f],obj.headers.children[t].nextSibling),obj.updatePosition(f,t)},obj.setBorder=setBorder,obj.init=function(){el.innerHTML="",obj.headers=document.createElement("div"),obj.content=document.createElement("div"),obj.headers.classList.add("jtabs-headers"),obj.content.classList.add("jtabs-content"),obj.options.palette?el.classList.add("jtabs-modern"):el.classList.remove("jtabs-modern"),obj.options.padding&&(obj.content.style.padding=parseInt(obj.options.padding)+"px");var header=document.createElement("div");header.className="jtabs-headers-container",header.appendChild(obj.headers),obj.options.maxWidth&&(header.style.maxWidth=parseInt(obj.options.maxWidth)+"px");var controls=document.createElement("div");if(controls.className="jtabs-controls",controls.setAttribute("draggable","false"),header.appendChild(controls),"bottom"==obj.options.position?(el.appendChild(obj.content),el.appendChild(header)):(el.appendChild(header),el.appendChild(obj.content)),1==obj.options.allowCreate){var add=document.createElement("div");add.className="jtabs-add",add.onclick=function(){obj.create()},controls.appendChild(add)}(prev=document.createElement("div")).className="jtabs-prev",prev.onclick=function(){updateControls(obj.headers.scrollLeft-obj.headers.offsetWidth)},controls.appendChild(prev),(next=document.createElement("div")).className="jtabs-next",next.onclick=function(){updateControls(obj.headers.scrollLeft+obj.headers.offsetWidth)},controls.appendChild(next);for(var i=0;i<obj.options.data.length;i++){if(obj.options.data[i].titleElement)var headerItem=obj.options.data[i].titleElement;else var headerItem=document.createElement("div");if(obj.options.data[i].icon){var iconContainer=document.createElement("div"),icon=document.createElement("i");icon.classList.add("material-icons"),icon.innerHTML=obj.options.data[i].icon,iconContainer.appendChild(icon),headerItem.appendChild(iconContainer)}if(obj.options.data[i].title){var title=document.createTextNode(obj.options.data[i].title);headerItem.appendChild(title)}var contentItem;if(obj.options.data[i].width&&(headerItem.style.width=obj.options.data[i].width),obj.options.data[i].contentElement)var contentItem=obj.options.data[i].contentElement;else(contentItem=document.createElement("div")).innerHTML=obj.options.data[i].content;obj.headers.appendChild(headerItem),obj.content.appendChild(contentItem)}(border=document.createElement("div")).className="jtabs-border",obj.headers.appendChild(border),obj.options.animation&&el.classList.add("jtabs-animation"),obj.headers.addEventListener("click",(function(e){if(e.target.parentNode.classList.contains("jtabs-headers"))var target=e.target;else if("I"==e.target.tagName)var target=e.target.parentNode.parentNode;else var target=e.target.parentNode;var index=obj.selectIndex(target);"function"==typeof obj.options.onclick&&obj.options.onclick(el,obj,index,obj.headers.children[index],obj.content.children[index])})),obj.headers.addEventListener("contextmenu",(function(e){obj.selectIndex(e.target)})),obj.headers.children.length&&obj.open(0),updateControls(0),1==obj.options.allowChangePosition&&jSuites.sorting(obj.headers,{direction:1,ondrop:function(a,b,c){obj.updatePosition(b,c)}}),"function"==typeof obj.options.onload&&obj.options.onload(el,obj)},el.children[0]&&el.children[0].children.length)for(var i=0;i<el.children[0].children.length;i++){var item=obj.options.data&&obj.options.data[i]?obj.options.data[i]:{};el.children[1]&&el.children[1].children[i]?(item.titleElement=el.children[0].children[i],item.contentElement=el.children[1].children[i]):item.contentElement=el.children[0].children[i],obj.options.data[i]=item}var loadingRemoteData=!1;if(obj.options.data)for(var i=0;i<obj.options.data.length;i++)obj.options.data[i].url&&(jSuites.ajax({url:obj.options.data[i].url,type:"GET",dataType:"text/html",index:i,success:function(result){obj.options.data[this.index].content=result},complete:function(){obj.init()}}),loadingRemoteData=!0);return loadingRemoteData||obj.init(),el.tabs=obj,obj},jSuites.tags=function(el,options){if(el.tags)return el.tags.setOptions(options,!0);var obj={type:"tags",options:{}},limit=function(){return!!(obj.options.limit&&el.children.length>=obj.options.limit)},search=null,searchContainer=null;obj.setOptions=function(options,reset){var defaults={value:"",limit:null,limitMessage:null,search:null,placeholder:null,validation:null,onbeforepaste:null,onbeforechange:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return obj.options.placeholder?el.setAttribute("data-placeholder",obj.options.placeholder):el.removeAttribute("data-placeholder"),el.placeholder=obj.options.placeholder,obj.setValue(obj.options.value),filter(),obj.options.search?searchContainer||(searchContainer=document.createElement("div"),el.parentNode.insertBefore(searchContainer,el.nextSibling),search=jSuites.search(searchContainer,{data:obj.options.search,onselect:function(a,b,c){obj.selectIndex(b,c)}})):searchContainer&&(search=null,searchContainer.remove(),searchContainer=null),obj},obj.add=function(value,focus){if("function"==typeof obj.options.onbeforechange){var ret=obj.options.onbeforechange(el,obj,obj.options.value,value);if(!1===ret)return!1;null!=ret&&(value=ret)}if(search&&search.close(),limit())"function"==typeof obj.options.onlimit?obj.options.onlimit(obj,obj.options.limit):obj.options.limitMessage&&alert(obj.options.limitMessage+" "+obj.options.limit);else{var node=jSuites.getNode();if(!(node&&node.parentNode&&node.parentNode.classList.contains("jtags")&&node.nextSibling)||node.nextSibling.innerText&&node.nextSibling.innerText.trim()){if(el.lastChild&&(el.lastChild.innerText.trim()||el.removeChild(el.lastChild)),value&&"string"!=typeof value){for(var i=0;i<=value.length;i++)if(!limit()){if(value[i]&&"string"!=typeof value[i])var t=value[i].text,v=value[i].value;else var t=value[i]||"",v=null;var div=createElement(t,v)}}else var div=createElement(value,value,node);change()}else div=node.nextSibling;focus&&setFocus(div)}},obj.setLimit=function(limit){obj.options.limit=limit;for(var n=el.children.length-limit;el.children.length>limit;)el.removeChild(el.lastChild)},obj.remove=function(node){node.parentNode.removeChild(node),el.children.length?change():obj.add("",!0)},obj.getData=function(){for(var data=[],i=0;i<el.children.length;i++){var text=el.children[i].innerText.replace("\n",""),value=el.children[i].getAttribute("data-value");value||(value=text),(text||value)&&data.push({text:text,value:value})}return data},obj.getValue=function(index){var value=null;if(null!=index)(value=el.children[index].getAttribute("data-value"))||(value=el.children[index].innerText.replace("\n",""));else{for(var data=[],i=0;i<el.children.length;i++)(value=el.children[i].innerText.replace("\n",""))&&data.push(obj.getValue(i));value=data.join(",")}return value},obj.setValue=function(mixed){if(mixed){if(el.value!=mixed)if(Array.isArray(mixed))obj.add(mixed);else{var text=(""+mixed).trim(),data=extractTags(text);el.innerHTML="",obj.add(data)}}else obj.reset()},obj.reset=function(){el.classList.add("jtags-empty"),el.innerHTML="<div></div>",change()},obj.isValid=function(){for(var test=0,i=0;i<el.children.length;i++)el.children[i].classList.contains("jtags_error")&&test++;return 0==test},obj.selectIndex=function(text,value){var node=jSuites.getNode();node&&(node.innerText=text,value&&node.setAttribute("data-value",value),node.classList.remove("jtags_error"),limit()||obj.add("",!0))},obj.search=function(node){var terms=node.innerText},obj.destroy=function(){el.removeEventListener("mouseup",tagsMouseUp),el.removeEventListener("keydown",tagsKeyDown),el.removeEventListener("keyup",tagsKeyUp),el.removeEventListener("paste",tagsPaste),el.removeEventListener("focus",tagsFocus),el.removeEventListener("blur",tagsBlur),el.parentNode.removeChild(el)};var setFocus=function(node){if(el.children.length>1){var range=document.createRange(),sel=window.getSelection();if(!node)var node=el.childNodes[el.childNodes.length-1];range.setStart(node,node.length),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range),el.scrollLeft=el.scrollWidth}},createElement=function(label,value,node){var div=document.createElement("div");return div.innerHTML=label||"",value&&div.setAttribute("data-value",value),node&&node.parentNode.classList.contains("jtags")?el.insertBefore(div,node.nextSibling):el.appendChild(div),div},change=function(){var value=obj.getValue();value!=obj.options.value&&(obj.options.value=value,"function"==typeof obj.options.onchange&&obj.options.onchange(el,obj,obj.options.value),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))),filter()},filter=function(){for(var i=0;i<el.children.length;i++)obj.getValue(i)?(el.children[i].classList.add("jtags_label"),"function"==typeof obj.options.validation&&obj.getValue(i)?obj.options.validation(el.children[i],el.children[i].innerText,el.children[i].getAttribute("data-value"))?el.children[i].classList.remove("jtags_error"):el.children[i].classList.add("jtags_error"):el.children[i].classList.remove("jtags_error")):el.children[i].classList.remove("jtags_label");isEmpty()},isEmpty=function(){el.innerText.trim()?el.classList.remove("jtags-empty"):(el.innerHTML="<div></div>",el.classList.add("jtags-empty"))},extractTags=function(text){var data=[],word="";if(text=text.trim()){for(var i=0;i<text.length;i++)","==text[i]||";"==text[i]||"\n"==text[i]?word&&(data.push(word.trim()),word=""):word+=text[i];word&&data.push(word)}return data},anchorOffset=0,tagsKeyDown=function(e){var n;if(anchorOffset=window.getSelection().anchorOffset,isEmpty(),"Tab"===e.key||";"===e.key||","===e.key)(n=window.getSelection().anchorOffset)>1&&(limit()?"function"==typeof obj.options.onlimit&&obj.options.onlimit(obj,obj.options.limit):obj.add("",!0)),e.preventDefault();else if("Enter"==e.key){var n;if(!search||!search.isOpened())(n=window.getSelection().anchorOffset)>1&&(limit()||obj.add("",!0)),e.preventDefault()}else"Backspace"==e.key&&1==el.children.length&&window.getSelection().anchorOffset<1&&e.preventDefault();search&&search.keydown(e)},tagsKeyUp=function(e){if(39==e.which){var n=window.getSelection().anchorOffset;n>1&&n==anchorOffset&&obj.add("",!0)}else 13==e.which||38==e.which||40==e.which?e.preventDefault():search&&search.keyup(e);filter()},tagsPaste=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var text=(e.originalEvent||e).clipboardData.getData("text/plain");else if(window.clipboardData)var text=window.clipboardData.getData("Text");var data=extractTags(text);if("function"==typeof obj.options.onbeforepaste){var ret=obj.options.onbeforepaste(el,obj,data);if(!1===ret)return e.preventDefault(),!1;ret&&(data=ret)}data.length>1?(obj.add(data,!0),e.preventDefault()):data[0]&&(document.execCommand("insertText",!1,data[0]),e.preventDefault())},tagsMouseUp=function(e){if(e.target.parentNode&&e.target.parentNode.classList.contains("jtags")&&(e.target.classList.contains("jtags_label")||e.target.classList.contains("jtags_error"))){var rect=e.target.getBoundingClientRect();rect.width-(e.clientX-rect.left)<16&&obj.remove(e.target)}e.target==el&&setFocus()},tagsFocus=function(){el.classList.contains("jtags-focus")||(el.children.length&&!obj.getValue(el.children.length-1)||limit()||createElement(""),"function"==typeof obj.options.onfocus&&obj.options.onfocus(el,obj,obj.getValue()),el.classList.add("jtags-focus"))},tagsBlur=function(){if(el.classList.contains("jtags-focus")){search&&search.close();for(var i=0;i<el.children.length-1;i++)obj.getValue(i)||el.removeChild(el.children[i]);change(),el.classList.remove("jtags-focus"),"function"==typeof obj.options.onblur&&obj.options.onblur(el,obj,obj.getValue())}},init;return function(){"touchend"in document.documentElement==!0?el.addEventListener("touchend",tagsMouseUp):el.addEventListener("mouseup",tagsMouseUp),el.addEventListener("keydown",tagsKeyDown),el.addEventListener("keyup",tagsKeyUp),el.addEventListener("paste",tagsPaste),el.addEventListener("focus",tagsFocus),el.addEventListener("blur",tagsBlur),el.setAttribute("contenteditable",!0),el.classList.add("jtags"),obj.setOptions(options),"function"==typeof obj.options.onload&&obj.options.onload(el,obj),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.tags=obj}(),obj},jSuites.toolbar=function(el,options){var obj={type:"toolbar",options:{}},defaults={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];!el&&options.app&&options.app.el&&(el=document.createElement("div"),options.app.el.appendChild(el));var toolbarArrow=document.createElement("div");toolbarArrow.classList.add("jtoolbar-item"),toolbarArrow.classList.add("jtoolbar-arrow");var toolbarFloating=document.createElement("div");toolbarFloating.classList.add("jtoolbar-floating"),toolbarArrow.appendChild(toolbarFloating),obj.selectItem=function(element){for(var elements=toolbarContent.children,i=0;i<elements.length;i++)element!=elements[i]&&elements[i].classList.remove("jtoolbar-selected");element.classList.add("jtoolbar-selected")},obj.hide=function(){jSuites.animation.slideBottom(el,0,(function(){el.style.display="none"}))},obj.show=function(){el.style.display="",jSuites.animation.slideBottom(el,1)},obj.get=function(){return el},obj.setBadge=function(index,value){toolbarContent.children[index].children[1].firstChild.innerHTML=value},obj.destroy=function(){toolbar.remove(),el.innerHTML=""},obj.update=function(a,b){for(var i=0;i<toolbarContent.children.length;i++){var toolbarItem;"function"==typeof(toolbarItem=toolbarContent.children[i]).updateState&&toolbarItem.updateState(el,obj,toolbarItem,a,b)}for(var i=0;i<toolbarFloating.children.length;i++){var toolbarItem;"function"==typeof(toolbarItem=toolbarFloating.children[i]).updateState&&toolbarItem.updateState(el,obj,toolbarItem,a,b)}},obj.create=function(items){toolbarContent.innerHTML="";for(var i=0;i<items.length;i++){var toolbarItem=document.createElement("div");if(toolbarItem.classList.add("jtoolbar-item"),items[i].width&&(toolbarItem.style.width=parseInt(items[i].width)+"px"),items[i].k&&(toolbarItem.k=items[i].k),items[i].tooltip&&toolbarItem.setAttribute("title",items[i].tooltip),items[i].id&&toolbarItem.setAttribute("id",items[i].id),items[i].updateState&&(toolbarItem.updateState=items[i].updateState),items[i].active&&toolbarItem.classList.add("jtoolbar-active"),"select"==items[i].type||"dropdown"==items[i].type)jSuites.picker(toolbarItem,items[i]);else if("divisor"==items[i].type)toolbarItem.classList.add("jtoolbar-divisor");else if("label"==items[i].type)toolbarItem.classList.add("jtoolbar-label"),toolbarItem.innerHTML=items[i].content;else{var toolbarIcon=document.createElement("i");if(void 0===items[i].class)toolbarIcon.classList.add("material-icons");else for(var c=items[i].class.split(" "),j=0;j<c.length;j++)toolbarIcon.classList.add(c[j]);if(toolbarIcon.innerHTML=items[i].content?items[i].content:"",toolbarItem.appendChild(toolbarIcon),1==obj.options.badge){var toolbarBadge=document.createElement("div");toolbarBadge.classList.add("jbadge");var toolbarBadgeContent=document.createElement("div");toolbarBadgeContent.innerHTML=items[i].badge?items[i].badge:"",toolbarBadge.appendChild(toolbarBadgeContent),toolbarItem.appendChild(toolbarBadge)}if(items[i].title)if(1==obj.options.title){var toolbarTitle=document.createElement("span");toolbarTitle.innerHTML=items[i].title,toolbarItem.appendChild(toolbarTitle)}else toolbarItem.setAttribute("title",items[i].title);obj.options.app&&items[i].route&&(toolbarItem.route=items[i].route,toolbarItem.onclick=function(){obj.options.app.pages(this.route)},obj.options.app.pages(items[i].route,{toolbarItem:toolbarItem,closed:!0}))}items[i].onclick&&(toolbarItem.onclick=items[i].onclick.bind(items[i],el,obj,toolbarItem)),toolbarContent.appendChild(toolbarItem)}setTimeout((function(){obj.refresh()}),0)},obj.open=function(){toolbarArrow.classList.add("jtoolbar-arrow-selected");var rectElement=el.getBoundingClientRect(),rect;toolbarFloating.getBoundingClientRect().bottom>window.innerHeight||obj.options.bottom?toolbarFloating.style.bottom="0":toolbarFloating.style.removeProperty("bottom"),toolbarFloating.style.right="0",toolbarArrow.children[0].focus(),jSuites.tracking(obj,!0)},obj.close=function(){toolbarArrow.classList.remove("jtoolbar-arrow-selected"),jSuites.tracking(obj,!1)},obj.refresh=function(){if(1==obj.options.responsive){var rect=el.parentNode.getBoundingClientRect();obj.options.maxWidth||(obj.options.maxWidth=rect.width);var available=parseInt(obj.options.maxWidth);for(toolbarArrow.parentNode&&toolbarArrow.parentNode.removeChild(toolbarArrow);toolbarFloating.firstChild;)toolbarContent.appendChild(toolbarFloating.firstChild);if(available<toolbarContent.offsetWidth)for(available-=50;toolbarContent.lastChild&&available<toolbarContent.offsetWidth;)toolbarFloating.insertBefore(toolbarContent.lastChild,toolbarFloating.firstChild);toolbarFloating.children.length>0&&toolbarContent.appendChild(toolbarArrow)}},obj.setReadonly=function(state){state=state?"add":"remove",el.classList[state]("jtoolbar-readonly")},el.onclick=function(e){var element=jSuites.findElement(e.target,"jtoolbar-item");element&&obj.selectItem(element),e.target.classList.contains("jtoolbar-arrow")&&obj.open()},window.addEventListener("resize",(function(){obj.refresh()})),el.classList.add("jtoolbar"),el.innerHTML="",1==obj.options.container&&el.classList.add("jtoolbar-container");var toolbarContent=document.createElement("div");return el.appendChild(toolbarContent),obj.options.app&&el.classList.add("jtoolbar-mobile"),obj.create(obj.options.items),el.toolbar=obj,obj},jSuites.validations=function(){var isNumeric=function(num){return!isNaN(num)&&null!==num&&""!==num},numberCriterias={between:function(value,range){return value>=range[0]&&value<=range[1]},"not between":function(value,range){return value<range[0]||value>range[1]},"<":function(value,range){return value<range[0]},"<=":function(value,range){return value<=range[0]},">":function(value,range){return value>range[0]},">=":function(value,range){return value>=range[0]},"=":function(value,range){return value==range[0]},"!=":function(value,range){return value!=range[0]}},dateCriterias={"valid date":function(){return!0},"=":function(value,range){return value===range[0]},"<":function(value,range){return value<range[0]},"<=":function(value,range){return value<=range[0]},">":function(value,range){return value>range[0]},">=":function(value,range){return value>=range[0]},between:function(value,range){return value>=range[0]&&value<=range[1]},"not between":function(value,range){return value<range[0]||value>range[1]}},textCriterias={contains:function(value,range){return value.includes(range[0])},"not contains":function(value,range){return!value.includes(range[0])},"begins with":function(value,range){return value.startsWith(range[0])},"ends with":function(value,range){return value.endsWith(range[0])},"=":function(value,range){return value===range[0]},"valid email":function(value){var pattern;return new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/).test(value)},"valid url":function(value){var pattern;return new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(value)}},component=function(value,options){return"function"==typeof component[options.type]?!(!options.allowBlank||""!==value)||component[options.type](value,options):null};return component.url=function(){var pattern;return!!new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(data)},component.email=function(data){var pattern=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!data||!pattern.test(data))},component.required=function(data){return!!data.trim()},component.exist=function(data,options){return!!data.toString()},component["not exist"]=function(data,options){return!data.toString()},component.number=function(data,options){if(!isNumeric(data))return!1;if(!options||!options.criteria)return!0;if(!numberCriterias[options.criteria])return!1;var values=options.value.map((function(num){return parseFloat(num)}));return numberCriterias[options.criteria](data,values)},component.login=function(data){var pattern=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);return!(!data||!pattern.test(data))},component.list=function(data,options){var dataType=typeof data,validOption;if("string"!==dataType&&"number"!==dataType)return!1;if("string"==typeof options.value[0])var list=options.value[0].split(",");else var list=options.value[0];return list.findIndex((function name(item){return item==data}))>-1},component.date=function(data,options){if("Invalid Date"==new Date(data))return!1;if(!options||!options.criteria)return!0;if(!dateCriterias[options.criteria])return!1;var values=options.value.map((function(date){return new Date(date).getTime()}));return dateCriterias[options.criteria](new Date(data).getTime(),values)},component.text=function(data,options){return"string"==typeof data&&(!options||!options.criteria||!!textCriterias[options.criteria]&&textCriterias[options.criteria](data,options.value))},component.textLength=function(data,options){return data=data.toString(),component.number(data.length,options)},component}(),jSuites}));

            